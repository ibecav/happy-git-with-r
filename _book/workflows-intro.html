<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Useful Git patterns for real life | Let’s Git After It</title>
  <meta name="description" content="Using Git and GitHub with R, Rstudio, and R Markdown" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Useful Git patterns for real life | Let’s Git After It" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="img/watch-me-diff-watch-me-rebase-smaller.png" />
  <meta property="og:description" content="Using Git and GitHub with R, Rstudio, and R Markdown" />
  <meta name="github-repo" content="github.com/ibecav/happy-git-with-r" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Useful Git patterns for real life | Let’s Git After It" />
  
  <meta name="twitter:description" content="Using Git and GitHub with R, Rstudio, and R Markdown" />
  <meta name="twitter:image" content="img/watch-me-diff-watch-me-rebase-smaller.png" />

<meta name="author" content="Originally Jenny Bryan, as modified by Chuck Powell" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="remote-scenarios-intro.html"/>
<link rel="next" href="shell.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Happy Git and GitHub for the useR</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Let’s Git started</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="big-picture.html"><a href="big-picture.html"><i class="fa fa-check"></i><b>1</b> Why Git? Why GitHub?</a><ul>
<li class="chapter" data-level="1.1" data-path="big-picture.html"><a href="big-picture.html#why-git"><i class="fa fa-check"></i><b>1.1</b> Why Git?</a></li>
<li class="chapter" data-level="1.2" data-path="big-picture.html"><a href="big-picture.html#why-github"><i class="fa fa-check"></i><b>1.2</b> Why GitHub?</a></li>
<li class="chapter" data-level="1.3" data-path="big-picture.html"><a href="big-picture.html#is-it-going-to-hurt"><i class="fa fa-check"></i><b>1.3</b> Is it going to hurt?</a></li>
<li class="chapter" data-level="1.4" data-path="big-picture.html"><a href="big-picture.html#what-is-the-payoff"><i class="fa fa-check"></i><b>1.4</b> What is the payoff?</a></li>
<li class="chapter" data-level="1.5" data-path="big-picture.html"><a href="big-picture.html#who-can-do-what"><i class="fa fa-check"></i><b>1.5</b> Who can do what?</a></li>
<li class="chapter" data-level="1.6" data-path="big-picture.html"><a href="big-picture.html#special-features-of-github"><i class="fa fa-check"></i><b>1.6</b> Special features of GitHub</a></li>
<li class="chapter" data-level="1.7" data-path="big-picture.html"><a href="big-picture.html#whats-special-about-using-r-with-git-and-github"><i class="fa fa-check"></i><b>1.7</b> What’s special about using R with Git and GitHub?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="install-intro.html"><a href="install-intro.html"><i class="fa fa-check"></i><b>2</b> Installation – Half the battle</a><ul>
<li class="chapter" data-level="2.1" data-path="install-intro.html"><a href="install-intro.html#github-acct"><i class="fa fa-check"></i><b>2.1</b> Register an account with GitHub. It’s free!</a></li>
<li class="chapter" data-level="2.2" data-path="install-intro.html"><a href="install-intro.html#install-r-rstudio"><i class="fa fa-check"></i><b>2.2</b> Install or upgrade R and RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="install-intro.html"><a href="install-intro.html#install-git"><i class="fa fa-check"></i><b>2.3</b> Install Git</a><ul>
<li class="chapter" data-level="2.3.1" data-path="install-intro.html"><a href="install-intro.html#git-already-installed"><i class="fa fa-check"></i><b>2.3.1</b> Git already installed?</a></li>
<li class="chapter" data-level="2.3.2" data-path="install-intro.html"><a href="install-intro.html#install-git-windows"><i class="fa fa-check"></i><b>2.3.2</b> Windows</a></li>
<li class="chapter" data-level="2.3.3" data-path="install-intro.html"><a href="install-intro.html#macos"><i class="fa fa-check"></i><b>2.3.3</b> macOS</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="install-intro.html"><a href="install-intro.html#hello-git"><i class="fa fa-check"></i><b>2.4</b> Introduce yourself to Git</a></li>
<li class="chapter" data-level="2.5" data-path="install-intro.html"><a href="install-intro.html#git-client"><i class="fa fa-check"></i><b>2.5</b> Install a Git client</a><ul>
<li class="chapter" data-level="2.5.1" data-path="install-intro.html"><a href="install-intro.html#what-is-a-git-client-why-would-you-want-one"><i class="fa fa-check"></i><b>2.5.1</b> What is a Git client? Why would you want one?</a></li>
<li class="chapter" data-level="2.5.2" data-path="install-intro.html"><a href="install-intro.html#no-one-is-giving-out-git-nerd-merit-badges"><i class="fa fa-check"></i><b>2.5.2</b> No one is giving out Git Nerd merit badges</a></li>
<li class="chapter" data-level="2.5.3" data-path="install-intro.html"><a href="install-intro.html#recommended-git-clients"><i class="fa fa-check"></i><b>2.5.3</b> Recommended Git clients</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="connect-intro.html"><a href="connect-intro.html"><i class="fa fa-check"></i><b>3</b> Connecting – Can you hear me now?</a><ul>
<li class="chapter" data-level="3.1" data-path="connect-intro.html"><a href="connect-intro.html#push-pull-github"><i class="fa fa-check"></i><b>3.1</b> Connect to GitHub</a><ul>
<li class="chapter" data-level="3.1.1" data-path="connect-intro.html"><a href="connect-intro.html#make-a-repo-on-github"><i class="fa fa-check"></i><b>3.1.1</b> Make a repo on GitHub</a></li>
<li class="chapter" data-level="3.1.2" data-path="connect-intro.html"><a href="connect-intro.html#clone-the-repo-to-your-local-computer"><i class="fa fa-check"></i><b>3.1.2</b> Clone the repo to your local computer</a></li>
<li class="chapter" data-level="3.1.3" data-path="connect-intro.html"><a href="connect-intro.html#make-a-local-change-commit-and-push"><i class="fa fa-check"></i><b>3.1.3</b> Make a local change, commit, and push</a></li>
<li class="chapter" data-level="3.1.4" data-path="connect-intro.html"><a href="connect-intro.html#windows-and-line-endings"><i class="fa fa-check"></i><b>3.1.4</b> Windows and line endings</a></li>
<li class="chapter" data-level="3.1.5" data-path="connect-intro.html"><a href="connect-intro.html#confirm-the-local-change-propagated-to-the-github-remote"><i class="fa fa-check"></i><b>3.1.5</b> Confirm the local change propagated to the GitHub remote</a></li>
<li class="chapter" data-level="3.1.6" data-path="connect-intro.html"><a href="connect-intro.html#am-i-really-going-to-type-github-username-and-password-on-each-push"><i class="fa fa-check"></i><b>3.1.6</b> Am I really going to type GitHub username and password on each push?</a></li>
<li class="chapter" data-level="3.1.7" data-path="connect-intro.html"><a href="connect-intro.html#clean-up"><i class="fa fa-check"></i><b>3.1.7</b> Clean up</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="connect-intro.html"><a href="connect-intro.html#rstudio-git-github"><i class="fa fa-check"></i><b>3.2</b> Connect RStudio to Git and GitHub</a><ul>
<li class="chapter" data-level="3.2.1" data-path="connect-intro.html"><a href="connect-intro.html#prerequisites"><i class="fa fa-check"></i><b>3.2.1</b> Prerequisites</a></li>
<li class="chapter" data-level="3.2.2" data-path="connect-intro.html"><a href="connect-intro.html#make-a-repo-on-github-1"><i class="fa fa-check"></i><b>3.2.2</b> Make a repo on GitHub</a></li>
<li class="chapter" data-level="3.2.3" data-path="connect-intro.html"><a href="connect-intro.html#clone-the-new-github-repository-to-your-computer-via-rstudio"><i class="fa fa-check"></i><b>3.2.3</b> Clone the new GitHub repository to your computer via RStudio</a></li>
<li class="chapter" data-level="3.2.4" data-path="connect-intro.html"><a href="connect-intro.html#make-local-changes-save-commit"><i class="fa fa-check"></i><b>3.2.4</b> Make local changes, save, commit</a></li>
<li class="chapter" data-level="3.2.5" data-path="connect-intro.html"><a href="connect-intro.html#push-your-local-changes-online-to-github"><i class="fa fa-check"></i><b>3.2.5</b> Push your local changes online to GitHub</a></li>
<li class="chapter" data-level="3.2.6" data-path="connect-intro.html"><a href="connect-intro.html#confirm-the-local-change-propagated-to-the-github-remote-1"><i class="fa fa-check"></i><b>3.2.6</b> Confirm the local change propagated to the GitHub remote</a></li>
<li class="chapter" data-level="3.2.7" data-path="connect-intro.html"><a href="connect-intro.html#were-you-challenged-for-github-username-and-password"><i class="fa fa-check"></i><b>3.2.7</b> Were you challenged for GitHub username and password?</a></li>
<li class="chapter" data-level="3.2.8" data-path="connect-intro.html"><a href="connect-intro.html#clean-up-1"><i class="fa fa-check"></i><b>3.2.8</b> Clean up</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="connect-intro.html"><a href="connect-intro.html#rstudio-see-git"><i class="fa fa-check"></i><b>3.3</b> Detect Git from RStudio</a><ul>
<li class="chapter" data-level="3.3.1" data-path="connect-intro.html"><a href="connect-intro.html#do-you-have-a-problem"><i class="fa fa-check"></i><b>3.3.1</b> Do you have a problem?</a></li>
<li class="chapter" data-level="3.3.2" data-path="connect-intro.html"><a href="connect-intro.html#find-git-yourself"><i class="fa fa-check"></i><b>3.3.2</b> Find Git yourself</a></li>
<li class="chapter" data-level="3.3.3" data-path="connect-intro.html"><a href="connect-intro.html#tell-rstudio-where-to-find-git"><i class="fa fa-check"></i><b>3.3.3</b> Tell RStudio where to find Git</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="usage-intro.html"><a href="usage-intro.html"><i class="fa fa-check"></i><b>4</b> Get started with GitHub</a><ul>
<li class="chapter" data-level="4.1" data-path="usage-intro.html"><a href="usage-intro.html#new-github-first"><i class="fa fa-check"></i><b>4.1</b> New project, GitHub first</a><ul>
<li class="chapter" data-level="4.1.1" data-path="usage-intro.html"><a href="usage-intro.html#make-a-repo-on-github-2"><i class="fa fa-check"></i><b>4.1.1</b> Make a repo on GitHub</a></li>
<li class="chapter" data-level="4.1.2" data-path="usage-intro.html"><a href="usage-intro.html#new-rstudio-project-via-git"><i class="fa fa-check"></i><b>4.1.2</b> New RStudio Project via git clone</a></li>
<li class="chapter" data-level="4.1.3" data-path="usage-intro.html"><a href="usage-intro.html#make-local-changes-save-commit-1"><i class="fa fa-check"></i><b>4.1.3</b> Make local changes, save, commit</a></li>
<li class="chapter" data-level="4.1.4" data-path="usage-intro.html"><a href="usage-intro.html#push-your-local-changes-to-github"><i class="fa fa-check"></i><b>4.1.4</b> Push your local changes to GitHub</a></li>
<li class="chapter" data-level="4.1.5" data-path="usage-intro.html"><a href="usage-intro.html#confirm-the-local-change-propagated-to-the-github-remote-2"><i class="fa fa-check"></i><b>4.1.5</b> Confirm the local change propagated to the GitHub remote</a></li>
<li class="chapter" data-level="4.1.6" data-path="usage-intro.html"><a href="usage-intro.html#make-a-change-on-github"><i class="fa fa-check"></i><b>4.1.6</b> Make a change on GitHub</a></li>
<li class="chapter" data-level="4.1.7" data-path="usage-intro.html"><a href="usage-intro.html#pull-from-github"><i class="fa fa-check"></i><b>4.1.7</b> Pull from GitHub</a></li>
<li class="chapter" data-level="4.1.8" data-path="usage-intro.html"><a href="usage-intro.html#the-end"><i class="fa fa-check"></i><b>4.1.8</b> The end</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="usage-intro.html"><a href="usage-intro.html#existing-github-first"><i class="fa fa-check"></i><b>4.2</b> Existing project, GitHub first</a><ul>
<li class="chapter" data-level="4.2.1" data-path="usage-intro.html"><a href="usage-intro.html#make-a-repo-on-github-3"><i class="fa fa-check"></i><b>4.2.1</b> Make a repo on GitHub</a></li>
<li class="chapter" data-level="4.2.2" data-path="usage-intro.html"><a href="usage-intro.html#new-rstudio-project-via-git-clone"><i class="fa fa-check"></i><b>4.2.2</b> New RStudio Project via git clone</a></li>
<li class="chapter" data-level="4.2.3" data-path="usage-intro.html"><a href="usage-intro.html#bring-your-existing-project-over"><i class="fa fa-check"></i><b>4.2.3</b> Bring your existing project over</a></li>
<li class="chapter" data-level="4.2.4" data-path="usage-intro.html"><a href="usage-intro.html#stage-and-commit"><i class="fa fa-check"></i><b>4.2.4</b> Stage and commit</a></li>
<li class="chapter" data-level="4.2.5" data-path="usage-intro.html"><a href="usage-intro.html#push-your-local-changes-to-github-1"><i class="fa fa-check"></i><b>4.2.5</b> Push your local changes to GitHub</a></li>
<li class="chapter" data-level="4.2.6" data-path="usage-intro.html"><a href="usage-intro.html#confirm-the-local-change-propagated-to-the-github-remote-3"><i class="fa fa-check"></i><b>4.2.6</b> Confirm the local change propagated to the GitHub remote</a></li>
<li class="chapter" data-level="4.2.7" data-path="usage-intro.html"><a href="usage-intro.html#the-end-1"><i class="fa fa-check"></i><b>4.2.7</b> The end</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="usage-intro.html"><a href="usage-intro.html#existing-github-last"><i class="fa fa-check"></i><b>4.3</b> Existing project, GitHub last</a><ul>
<li class="chapter" data-level="4.3.1" data-path="usage-intro.html"><a href="usage-intro.html#make-or-verify-an-rstudio-project"><i class="fa fa-check"></i><b>4.3.1</b> Make or verify an RStudio Project</a></li>
<li class="chapter" data-level="4.3.2" data-path="usage-intro.html"><a href="usage-intro.html#make-or-verify-a-git-repo"><i class="fa fa-check"></i><b>4.3.2</b> Make or verify a Git repo</a></li>
<li class="chapter" data-level="4.3.3" data-path="usage-intro.html"><a href="usage-intro.html#stage-and-commit-1"><i class="fa fa-check"></i><b>4.3.3</b> Stage and commit</a></li>
<li class="chapter" data-level="4.3.4" data-path="usage-intro.html"><a href="usage-intro.html#make-and-connect-a-github-repo-option-1"><i class="fa fa-check"></i><b>4.3.4</b> Make and connect a GitHub repo, option 1</a></li>
<li class="chapter" data-level="4.3.5" data-path="usage-intro.html"><a href="usage-intro.html#make-and-connect-a-github-repo-option-2"><i class="fa fa-check"></i><b>4.3.5</b> Make and connect a GitHub repo, option 2</a></li>
<li class="chapter" data-level="4.3.6" data-path="usage-intro.html"><a href="usage-intro.html#confirm-the-local-files-propagated-to-the-github-remote"><i class="fa fa-check"></i><b>4.3.6</b> Confirm the local files propagated to the GitHub remote</a></li>
<li class="chapter" data-level="4.3.7" data-path="usage-intro.html"><a href="usage-intro.html#the-end-2"><i class="fa fa-check"></i><b>4.3.7</b> The end</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="usage-intro.html"><a href="usage-intro.html#rmd-test-drive"><i class="fa fa-check"></i><b>4.4</b> Test drive R Markdown</a><ul>
<li class="chapter" data-level="4.4.1" data-path="usage-intro.html"><a href="usage-intro.html#hello-world"><i class="fa fa-check"></i><b>4.4.1</b> Hello World</a></li>
<li class="chapter" data-level="4.4.2" data-path="usage-intro.html"><a href="usage-intro.html#push-to-github"><i class="fa fa-check"></i><b>4.4.2</b> Push to GitHub</a></li>
<li class="chapter" data-level="4.4.3" data-path="usage-intro.html"><a href="usage-intro.html#output-format"><i class="fa fa-check"></i><b>4.4.3</b> Output format</a></li>
<li class="chapter" data-level="4.4.4" data-path="usage-intro.html"><a href="usage-intro.html#push-to-github-1"><i class="fa fa-check"></i><b>4.4.4</b> Push to GitHub</a></li>
<li class="chapter" data-level="4.4.5" data-path="usage-intro.html"><a href="usage-intro.html#put-your-stamp-on-it"><i class="fa fa-check"></i><b>4.4.5</b> Put your stamp on it</a></li>
<li class="chapter" data-level="4.4.6" data-path="usage-intro.html"><a href="usage-intro.html#develop-your-report"><i class="fa fa-check"></i><b>4.4.6</b> Develop your report</a></li>
<li class="chapter" data-level="4.4.7" data-path="usage-intro.html"><a href="usage-intro.html#publish-your-report"><i class="fa fa-check"></i><b>4.4.7</b> Publish your report</a></li>
<li class="chapter" data-level="4.4.8" data-path="usage-intro.html"><a href="usage-intro.html#html-on-github"><i class="fa fa-check"></i><b>4.4.8</b> HTML on GitHub</a></li>
<li class="chapter" data-level="4.4.9" data-path="usage-intro.html"><a href="usage-intro.html#rmd-troubleshooting"><i class="fa fa-check"></i><b>4.4.9</b> Troubleshooting</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="usage-intro.html"><a href="usage-intro.html#r-test-drive"><i class="fa fa-check"></i><b>4.5</b> Render an R script</a><ul>
<li class="chapter" data-level="4.5.1" data-path="usage-intro.html"><a href="usage-intro.html#morph-r-markdown-into-a-renderable-r-script"><i class="fa fa-check"></i><b>4.5.1</b> Morph R Markdown into a renderable R script</a></li>
<li class="chapter" data-level="4.5.2" data-path="usage-intro.html"><a href="usage-intro.html#write-a-render-ready-r-script"><i class="fa fa-check"></i><b>4.5.2</b> Write a render-ready R script</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="git-intro.html"><a href="git-intro.html"><i class="fa fa-check"></i><b>5</b> Some Git basics</a><ul>
<li class="chapter" data-level="5.1" data-path="git-intro.html"><a href="git-intro.html#git-basics"><i class="fa fa-check"></i><b>5.1</b> Repo, commit, diff, tag</a><ul>
<li class="chapter" data-level="5.1.1" data-path="git-intro.html"><a href="git-intro.html#repos-or-repositories"><i class="fa fa-check"></i><b>5.1.1</b> Repos or repositories</a></li>
<li class="chapter" data-level="5.1.2" data-path="git-intro.html"><a href="git-intro.html#commits-diffs-and-tags"><i class="fa fa-check"></i><b>5.1.2</b> Commits, diffs, and tags</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="git-intro.html"><a href="git-intro.html#git-commands"><i class="fa fa-check"></i><b>5.2</b> Git commands</a></li>
<li class="chapter" data-level="5.3" data-path="git-intro.html"><a href="git-intro.html#git-branches"><i class="fa fa-check"></i><b>5.3</b> Branches</a><ul>
<li class="chapter" data-level="5.3.1" data-path="git-intro.html"><a href="git-intro.html#create-a-new-branch"><i class="fa fa-check"></i><b>5.3.1</b> Create a new branch</a></li>
<li class="chapter" data-level="5.3.2" data-path="git-intro.html"><a href="git-intro.html#switching-branches"><i class="fa fa-check"></i><b>5.3.2</b> Switching branches</a></li>
<li class="chapter" data-level="5.3.3" data-path="git-intro.html"><a href="git-intro.html#merging-a-branch"><i class="fa fa-check"></i><b>5.3.3</b> Merging a branch</a></li>
<li class="chapter" data-level="5.3.4" data-path="git-intro.html"><a href="git-intro.html#dealing-with-conflicts"><i class="fa fa-check"></i><b>5.3.4</b> Dealing with conflicts</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="git-intro.html"><a href="git-intro.html#git-remotes"><i class="fa fa-check"></i><b>5.4</b> Remotes</a><ul>
<li class="chapter" data-level="5.4.1" data-path="git-intro.html"><a href="git-intro.html#listing-what-remotes-exist"><i class="fa fa-check"></i><b>5.4.1</b> Listing what remotes exist</a></li>
<li class="chapter" data-level="5.4.2" data-path="git-intro.html"><a href="git-intro.html#adding-a-new-remote"><i class="fa fa-check"></i><b>5.4.2</b> Adding a new remote</a></li>
<li class="chapter" data-level="5.4.3" data-path="git-intro.html"><a href="git-intro.html#fetching-data-from-remotes"><i class="fa fa-check"></i><b>5.4.3</b> Fetching data from remotes</a></li>
<li class="chapter" data-level="5.4.4" data-path="git-intro.html"><a href="git-intro.html#pushing-to-remotes"><i class="fa fa-check"></i><b>5.4.4</b> Pushing to remotes</a></li>
<li class="chapter" data-level="5.4.5" data-path="git-intro.html"><a href="git-intro.html#renaming-and-changing-remotes"><i class="fa fa-check"></i><b>5.4.5</b> Renaming and changing remotes</a></li>
<li class="chapter" data-level="5.4.6" data-path="git-intro.html"><a href="git-intro.html#upstream-tracking-branches"><i class="fa fa-check"></i><b>5.4.6</b> Upstream tracking branches</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="remote-scenarios-intro.html"><a href="remote-scenarios-intro.html"><i class="fa fa-check"></i><b>6</b> Git remote setups</a><ul>
<li class="chapter" data-level="6.1" data-path="remote-scenarios-intro.html"><a href="remote-scenarios-intro.html#no-github"><i class="fa fa-check"></i><b>6.1</b> No GitHub</a></li>
<li class="chapter" data-level="6.2" data-path="remote-scenarios-intro.html"><a href="remote-scenarios-intro.html#ours-you"><i class="fa fa-check"></i><b>6.2</b> All Yours</a></li>
<li class="chapter" data-level="6.3" data-path="remote-scenarios-intro.html"><a href="remote-scenarios-intro.html#ours-them"><i class="fa fa-check"></i><b>6.3</b> Ours</a></li>
<li class="chapter" data-level="6.4" data-path="remote-scenarios-intro.html"><a href="remote-scenarios-intro.html#fork-them"><i class="fa fa-check"></i><b>6.4</b> Fork (of theirs)</a></li>
<li class="chapter" data-level="6.5" data-path="remote-scenarios-intro.html"><a href="remote-scenarios-intro.html#fork_upstream_is_not_origin_parent"><i class="fa fa-check"></i><b>6.5</b> Fork (salvageable)</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="workflows-intro.html"><a href="workflows-intro.html"><i class="fa fa-check"></i><b>7</b> Useful Git patterns for real life</a><ul>
<li class="chapter" data-level="7.1" data-path="workflows-intro.html"><a href="workflows-intro.html#repeated-amend"><i class="fa fa-check"></i><b>7.1</b> The Repeated Amend</a><ul>
<li class="chapter" data-level="7.1.1" data-path="workflows-intro.html"><a href="workflows-intro.html#rock-climbing-analogy"><i class="fa fa-check"></i><b>7.1.1</b> Rock climbing analogy</a></li>
<li class="chapter" data-level="7.1.2" data-path="workflows-intro.html"><a href="workflows-intro.html#workflow-sketch"><i class="fa fa-check"></i><b>7.1.2</b> Workflow sketch</a></li>
<li class="chapter" data-level="7.1.3" data-path="workflows-intro.html"><a href="workflows-intro.html#what-if-i-need-to-fall-back"><i class="fa fa-check"></i><b>7.1.3</b> What if I need to fall back?</a></li>
<li class="chapter" data-level="7.1.4" data-path="workflows-intro.html"><a href="workflows-intro.html#why-dont-we-push-intermediate-progress"><i class="fa fa-check"></i><b>7.1.4</b> Why don’t we push intermediate progress?</a></li>
<li class="chapter" data-level="7.1.5" data-path="workflows-intro.html"><a href="workflows-intro.html#um-what-if-i-did-push"><i class="fa fa-check"></i><b>7.1.5</b> Um, what if I did push?</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="workflows-intro.html"><a href="workflows-intro.html#push-rejected"><i class="fa fa-check"></i><b>7.2</b> Dealing with push rejection</a><ul>
<li class="chapter" data-level="7.2.1" data-path="workflows-intro.html"><a href="workflows-intro.html#she-who-pushes-first-wins"><i class="fa fa-check"></i><b>7.2.1</b> She who pushes first wins!</a></li>
<li class="chapter" data-level="7.2.2" data-path="workflows-intro.html"><a href="workflows-intro.html#stay-in-touch"><i class="fa fa-check"></i><b>7.2.2</b> Stay in touch</a></li>
<li class="chapter" data-level="7.2.3" data-path="workflows-intro.html"><a href="workflows-intro.html#use-branches"><i class="fa fa-check"></i><b>7.2.3</b> Use branches</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="workflows-intro.html"><a href="workflows-intro.html#pull-tricky"><i class="fa fa-check"></i><b>7.3</b> Pull, but you have local work</a></li>
<li class="chapter" data-level="7.4" data-path="workflows-intro.html"><a href="workflows-intro.html#local-work-is-uncommitted"><i class="fa fa-check"></i><b>7.4</b> Local work is uncommitted</a><ul>
<li class="chapter" data-level="7.4.1" data-path="workflows-intro.html"><a href="workflows-intro.html#git-pull-with-local-commits"><i class="fa fa-check"></i><b>7.4.1</b> Local work is committed</a></li>
<li class="chapter" data-level="7.4.2" data-path="workflows-intro.html"><a href="workflows-intro.html#other-approaches"><i class="fa fa-check"></i><b>7.4.2</b> Other approaches</a></li>
<li class="chapter" data-level="7.4.3" data-path="workflows-intro.html"><a href="workflows-intro.html#some-local-work-is-committed-some-is-not"><i class="fa fa-check"></i><b>7.4.3</b> Some local work is committed, some is not</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="workflows-intro.html"><a href="workflows-intro.html#time-travel-see-past"><i class="fa fa-check"></i><b>7.5</b> Time travel: See the past</a><ul>
<li class="chapter" data-level="7.5.1" data-path="workflows-intro.html"><a href="workflows-intro.html#hyperlinks-are-awesome"><i class="fa fa-check"></i><b>7.5.1</b> Hyperlinks are awesome!</a></li>
<li class="chapter" data-level="7.5.2" data-path="workflows-intro.html"><a href="workflows-intro.html#browse-commit-history-and-specific-commits"><i class="fa fa-check"></i><b>7.5.2</b> Browse commit history and specific commits</a></li>
<li class="chapter" data-level="7.5.3" data-path="workflows-intro.html"><a href="workflows-intro.html#use-hyperlinks-yourself"><i class="fa fa-check"></i><b>7.5.3</b> Use hyperlinks yourself!</a></li>
<li class="chapter" data-level="7.5.4" data-path="workflows-intro.html"><a href="workflows-intro.html#file-driven-inquiries"><i class="fa fa-check"></i><b>7.5.4</b> File driven inquiries</a></li>
<li class="chapter" data-level="7.5.5" data-path="workflows-intro.html"><a href="workflows-intro.html#blame"><i class="fa fa-check"></i><b>7.5.5</b> Blame</a></li>
<li class="chapter" data-level="7.5.6" data-path="workflows-intro.html"><a href="workflows-intro.html#history"><i class="fa fa-check"></i><b>7.5.6</b> History</a></li>
<li class="chapter" data-level="7.5.7" data-path="workflows-intro.html"><a href="workflows-intro.html#hyperlink-to-specific-lines-at-a-specific-state"><i class="fa fa-check"></i><b>7.5.7</b> Hyperlink to specific lines at a specific state</a></li>
<li class="chapter" data-level="7.5.8" data-path="workflows-intro.html"><a href="workflows-intro.html#search"><i class="fa fa-check"></i><b>7.5.8</b> Search</a></li>
<li class="chapter" data-level="7.5.9" data-path="workflows-intro.html"><a href="workflows-intro.html#issue-search"><i class="fa fa-check"></i><b>7.5.9</b> Issue search</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="workflows-intro.html"><a href="workflows-intro.html#fork-and-clone"><i class="fa fa-check"></i><b>7.6</b> Fork and clone</a><ul>
<li class="chapter" data-level="7.6.1" data-path="workflows-intro.html"><a href="workflows-intro.html#initial-workflow"><i class="fa fa-check"></i><b>7.6.1</b> Initial workflow</a></li>
<li class="chapter" data-level="7.6.2" data-path="workflows-intro.html"><a href="workflows-intro.html#usethiscreate_from_githubownerrepo"><i class="fa fa-check"></i><b>7.6.2</b> <code>usethis::create_from_github("OWNER/REPO")</code></a></li>
<li class="chapter" data-level="7.6.3" data-path="workflows-intro.html"><a href="workflows-intro.html#engage-with-the-new-repo"><i class="fa fa-check"></i><b>7.6.3</b> Engage with the new repo</a></li>
<li class="chapter" data-level="7.6.4" data-path="workflows-intro.html"><a href="workflows-intro.html#dont-touch-master"><i class="fa fa-check"></i><b>7.6.4</b> Don’t mess with <code>master</code></a></li>
<li class="chapter" data-level="7.6.5" data-path="workflows-intro.html"><a href="workflows-intro.html#the-original-repo-as-a-remote"><i class="fa fa-check"></i><b>7.6.5</b> The original repo as a remote</a></li>
<li class="chapter" data-level="7.6.6" data-path="workflows-intro.html"><a href="workflows-intro.html#no-you-cant-do-this-via-github"><i class="fa fa-check"></i><b>7.6.6</b> No, you can’t do this via GitHub</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="workflows-intro.html"><a href="workflows-intro.html#upstream-changes"><i class="fa fa-check"></i><b>7.7</b> Get upstream changes for a fork</a><ul>
<li class="chapter" data-level="7.7.1" data-path="workflows-intro.html"><a href="workflows-intro.html#no-you-cant-do-this-via-github-1"><i class="fa fa-check"></i><b>7.7.1</b> No, you can’t do this via GitHub</a></li>
<li class="chapter" data-level="7.7.2" data-path="workflows-intro.html"><a href="workflows-intro.html#initial-conditions"><i class="fa fa-check"></i><b>7.7.2</b> Initial conditions</a></li>
<li class="chapter" data-level="7.7.3" data-path="workflows-intro.html"><a href="workflows-intro.html#list-your-remotes"><i class="fa fa-check"></i><b>7.7.3</b> List your remotes</a></li>
<li class="chapter" data-level="7.7.4" data-path="workflows-intro.html"><a href="workflows-intro.html#add-the-upstream-remote"><i class="fa fa-check"></i><b>7.7.4</b> Add the <code>upstream</code> remote</a></li>
<li class="chapter" data-level="7.7.5" data-path="workflows-intro.html"><a href="workflows-intro.html#verify-your-upstream-remote"><i class="fa fa-check"></i><b>7.7.5</b> Verify your <code>upstream</code> remote</a></li>
<li class="chapter" data-level="7.7.6" data-path="workflows-intro.html"><a href="workflows-intro.html#pull-changes-from-upstream"><i class="fa fa-check"></i><b>7.7.6</b> Pull changes from <code>upstream</code></a></li>
<li class="chapter" data-level="7.7.7" data-path="workflows-intro.html"><a href="workflows-intro.html#push-these-changes-to-originmaster"><i class="fa fa-check"></i><b>7.7.7</b> Push these changes to <code>origin/master</code></a></li>
<li class="chapter" data-level="7.7.8" data-path="workflows-intro.html"><a href="workflows-intro.html#touched-master"><i class="fa fa-check"></i><b>7.7.8</b> Um, what if I did touch <code>master</code>?</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="workflows-intro.html"><a href="workflows-intro.html#upstream-changes"><i class="fa fa-check"></i><b>7.8</b> Get upstream changes for a fork</a><ul>
<li class="chapter" data-level="7.8.1" data-path="workflows-intro.html"><a href="workflows-intro.html#no-you-cant-do-this-via-github-2"><i class="fa fa-check"></i><b>7.8.1</b> No, you can’t do this via GitHub</a></li>
<li class="chapter" data-level="7.8.2" data-path="workflows-intro.html"><a href="workflows-intro.html#initial-conditions-1"><i class="fa fa-check"></i><b>7.8.2</b> Initial conditions</a></li>
<li class="chapter" data-level="7.8.3" data-path="workflows-intro.html"><a href="workflows-intro.html#list-your-remotes-1"><i class="fa fa-check"></i><b>7.8.3</b> List your remotes</a></li>
</ul></li>
<li class="chapter" data-level="7.9" data-path="workflows-intro.html"><a href="workflows-intro.html#workflows-browsability"><i class="fa fa-check"></i><b>7.9</b> Make a GitHub repo browsable</a><ul>
<li class="chapter" data-level="7.9.1" data-path="workflows-intro.html"><a href="workflows-intro.html#be-savvy-about-your-files"><i class="fa fa-check"></i><b>7.9.1</b> Be savvy about your files</a></li>
<li class="chapter" data-level="7.9.2" data-path="workflows-intro.html"><a href="workflows-intro.html#get-over-your-hang-ups-re-committing-derived-products"><i class="fa fa-check"></i><b>7.9.2</b> Get over your hang ups re: committing derived products</a></li>
<li class="chapter" data-level="7.9.3" data-path="workflows-intro.html"><a href="workflows-intro.html#markdown"><i class="fa fa-check"></i><b>7.9.3</b> Markdown</a></li>
<li class="chapter" data-level="7.9.4" data-path="workflows-intro.html"><a href="workflows-intro.html#r-markdown"><i class="fa fa-check"></i><b>7.9.4</b> R Markdown</a></li>
<li class="chapter" data-level="7.9.5" data-path="workflows-intro.html"><a href="workflows-intro.html#readme.md"><i class="fa fa-check"></i><b>7.9.5</b> <code>README.md</code></a></li>
<li class="chapter" data-level="7.9.6" data-path="workflows-intro.html"><a href="workflows-intro.html#finding-stuff"><i class="fa fa-check"></i><b>7.9.6</b> Finding stuff</a></li>
<li class="chapter" data-level="7.9.7" data-path="workflows-intro.html"><a href="workflows-intro.html#html"><i class="fa fa-check"></i><b>7.9.7</b> HTML</a></li>
<li class="chapter" data-level="7.9.8" data-path="workflows-intro.html"><a href="workflows-intro.html#source-code"><i class="fa fa-check"></i><b>7.9.8</b> Source code</a></li>
<li class="chapter" data-level="7.9.9" data-path="workflows-intro.html"><a href="workflows-intro.html#delimited-files"><i class="fa fa-check"></i><b>7.9.9</b> Delimited files</a></li>
<li class="chapter" data-level="7.9.10" data-path="workflows-intro.html"><a href="workflows-intro.html#pngs"><i class="fa fa-check"></i><b>7.9.10</b> PNGs</a></li>
<li class="chapter" data-level="7.9.11" data-path="workflows-intro.html"><a href="workflows-intro.html#other-document-formats"><i class="fa fa-check"></i><b>7.9.11</b> Other document formats</a></li>
<li class="chapter" data-level="7.9.12" data-path="workflows-intro.html"><a href="workflows-intro.html#linking-to-a-zip-archive-of-your-repo"><i class="fa fa-check"></i><b>7.9.12</b> Linking to a ZIP archive of your repo</a></li>
</ul></li>
<li class="chapter" data-level="7.10" data-path="workflows-intro.html"><a href="workflows-intro.html#links-and-embedded-figures"><i class="fa fa-check"></i><b>7.10</b> Links and embedded figures</a></li>
</ul></li>
<li class="appendix"><span><b>Appendicies</b></span></li>
<li class="chapter" data-level="A" data-path="shell.html"><a href="shell.html"><i class="fa fa-check"></i><b>A</b> The shell</a><ul>
<li class="chapter" data-level="A.1" data-path="shell.html"><a href="shell.html#what-is-the-shell"><i class="fa fa-check"></i><b>A.1</b> What is the shell?</a></li>
<li class="chapter" data-level="A.2" data-path="shell.html"><a href="shell.html#starting-the-shell"><i class="fa fa-check"></i><b>A.2</b> Starting the shell</a><ul>
<li class="chapter" data-level="A.2.1" data-path="shell.html"><a href="shell.html#from-within-rstudio"><i class="fa fa-check"></i><b>A.2.1</b> From within RStudio</a></li>
<li class="chapter" data-level="A.2.2" data-path="shell.html"><a href="shell.html#outside-of-rstudio"><i class="fa fa-check"></i><b>A.2.2</b> Outside of RStudio</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="shell.html"><a href="shell.html#windows-shell-hell"><i class="fa fa-check"></i><b>A.3</b> Windows is special … and not in a good way</a><ul>
<li class="chapter" data-level="A.3.1" data-path="shell.html"><a href="shell.html#git-bash"><i class="fa fa-check"></i><b>A.3.1</b> Git Bash</a></li>
<li class="chapter" data-level="A.3.2" data-path="shell.html"><a href="shell.html#command-prompt"><i class="fa fa-check"></i><b>A.3.2</b> Command prompt</a></li>
<li class="chapter" data-level="A.3.3" data-path="shell.html"><a href="shell.html#powershell"><i class="fa fa-check"></i><b>A.3.3</b> PowerShell</a></li>
<li class="chapter" data-level="A.3.4" data-path="shell.html"><a href="shell.html#bash-via-windows-services-for-linux"><i class="fa fa-check"></i><b>A.3.4</b> Bash via Windows Services for Linux</a></li>
</ul></li>
<li class="chapter" data-level="A.4" data-path="shell.html"><a href="shell.html#basic-shell-commands"><i class="fa fa-check"></i><b>A.4</b> Basic shell commands</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="burn.html"><a href="burn.html"><i class="fa fa-check"></i><b>B</b> Burn it all down</a></li>
<li class="chapter" data-level="C" data-path="troubleshooting.html"><a href="troubleshooting.html"><i class="fa fa-check"></i><b>C</b> RStudio, Git, GitHub Hell</a><ul>
<li class="chapter" data-level="C.1" data-path="troubleshooting.html"><a href="troubleshooting.html#i-think-i-have-installed-git-but-damn-if-i-can-find-it"><i class="fa fa-check"></i><b>C.1</b> I think I have installed Git but damn if I can find it</a></li>
<li class="chapter" data-level="C.2" data-path="troubleshooting.html"><a href="troubleshooting.html#rstudio-git-pane-disappears-on-mac-os"><i class="fa fa-check"></i><b>C.2</b> RStudio Git pane disappears on Mac OS</a></li>
<li class="chapter" data-level="C.3" data-path="troubleshooting.html"><a href="troubleshooting.html#dysfunctional-path"><i class="fa fa-check"></i><b>C.3</b> Dysfunctional PATH</a></li>
<li class="chapter" data-level="C.4" data-path="troubleshooting.html"><a href="troubleshooting.html#pushpull-buttons-greyed-out-in-rstudio"><i class="fa fa-check"></i><b>C.4</b> Push/Pull buttons greyed out in RStudio</a></li>
<li class="chapter" data-level="C.5" data-path="troubleshooting.html"><a href="troubleshooting.html#i-have-no-idea-if-my-local-repo-and-my-remote-repo-are-connected."><i class="fa fa-check"></i><b>C.5</b> I have no idea if my local repo and my remote repo are connected.</a></li>
<li class="chapter" data-level="C.6" data-path="troubleshooting.html"><a href="troubleshooting.html#push-fail-at-the-rstudio-level"><i class="fa fa-check"></i><b>C.6</b> Push fail at the RStudio level</a></li>
<li class="chapter" data-level="C.7" data-path="troubleshooting.html"><a href="troubleshooting.html#push-rejected-i.e.-fail-at-the-gitgithub-level"><i class="fa fa-check"></i><b>C.7</b> Push rejected, i.e. fail at the Git/GitHub level</a></li>
<li class="chapter" data-level="C.8" data-path="troubleshooting.html"><a href="troubleshooting.html#rstudio-is-not-making-certain-files-available-for-stagingcommitting"><i class="fa fa-check"></i><b>C.8</b> RStudio is not making certain files available for staging/committing</a></li>
<li class="chapter" data-level="C.9" data-path="troubleshooting.html"><a href="troubleshooting.html#i-hear-you-have-some-git-repo-inside-your-git-repo"><i class="fa fa-check"></i><b>C.9</b> I hear you have some Git repo inside your Git repo</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="credential-caching.html"><a href="credential-caching.html"><i class="fa fa-check"></i><b>D</b> Cache credentials for HTTPS</a><ul>
<li class="chapter" data-level="D.1" data-path="credential-caching.html"><a href="credential-caching.html#get-a-pat"><i class="fa fa-check"></i><b>D.1</b> You should get a personal access token (PAT)</a><ul>
<li class="chapter" data-level="D.1.1" data-path="credential-caching.html"><a href="credential-caching.html#why-a-pat"><i class="fa fa-check"></i><b>D.1.1</b> Why a PAT?</a></li>
<li class="chapter" data-level="D.1.2" data-path="credential-caching.html"><a href="credential-caching.html#how-to-get-a-pat"><i class="fa fa-check"></i><b>D.1.2</b> How to get a PAT?</a></li>
<li class="chapter" data-level="D.1.3" data-path="credential-caching.html"><a href="credential-caching.html#how-to-manage-a-pat"><i class="fa fa-check"></i><b>D.1.3</b> How to manage a PAT?</a></li>
</ul></li>
<li class="chapter" data-level="D.2" data-path="credential-caching.html"><a href="credential-caching.html#store-your-credential"><i class="fa fa-check"></i><b>D.2</b> Store your credential</a><ul>
<li class="chapter" data-level="D.2.1" data-path="credential-caching.html"><a href="credential-caching.html#call-an-r-function-to-store-your-credentials"><i class="fa fa-check"></i><b>D.2.1</b> Call an R function to store your credentials</a></li>
<li class="chapter" data-level="D.2.2" data-path="credential-caching.html"><a href="credential-caching.html#store-credentials-through-organic-git-use"><i class="fa fa-check"></i><b>D.2.2</b> Store credentials through organic Git use</a></li>
<li class="chapter" data-level="D.2.3" data-path="credential-caching.html"><a href="credential-caching.html#access-the-git-credential-manager-directly"><i class="fa fa-check"></i><b>D.2.3</b> Access the Git credential manager directly</a></li>
<li class="chapter" data-level="D.2.4" data-path="credential-caching.html"><a href="credential-caching.html#access-the-os-level-keychain-or-wallet"><i class="fa fa-check"></i><b>D.2.4</b> Access the OS-level keychain or wallet</a></li>
</ul></li>
<li class="chapter" data-level="D.3" data-path="credential-caching.html"><a href="credential-caching.html#activating-a-git-credential-helper"><i class="fa fa-check"></i><b>D.3</b> Activating a Git credential helper</a><ul>
<li class="chapter" data-level="D.3.1" data-path="credential-caching.html"><a href="credential-caching.html#you-might-not-need-to-do-anything"><i class="fa fa-check"></i><b>D.3.1</b> You might not need to do anything!</a></li>
<li class="chapter" data-level="D.3.2" data-path="credential-caching.html"><a href="credential-caching.html#windows-1"><i class="fa fa-check"></i><b>D.3.2</b> Windows</a></li>
<li class="chapter" data-level="D.3.3" data-path="credential-caching.html"><a href="credential-caching.html#macos-2"><i class="fa fa-check"></i><b>D.3.3</b> macOS</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="E" data-path="github-pat.html"><a href="github-pat.html"><i class="fa fa-check"></i><b>E</b> GitHub Personal Access Tokens</a><ul>
<li class="chapter" data-level="E.1" data-path="github-pat.html"><a href="github-pat.html#github-api"><i class="fa fa-check"></i><b>E.1</b> GitHub API</a></li>
<li class="chapter" data-level="E.2" data-path="github-pat.html"><a href="github-pat.html#how-do-you-authenticate-yourself"><i class="fa fa-check"></i><b>E.2</b> How do you authenticate yourself?</a></li>
<li class="chapter" data-level="E.3" data-path="github-pat.html"><a href="github-pat.html#step-by-step"><i class="fa fa-check"></i><b>E.3</b> Step-by-step</a><ul>
<li class="chapter" data-level="E.3.1" data-path="github-pat.html"><a href="github-pat.html#create-a-pat"><i class="fa fa-check"></i><b>E.3.1</b> Create a PAT</a></li>
<li class="chapter" data-level="E.3.2" data-path="github-pat.html"><a href="github-pat.html#add-your-pat-to-.renviron"><i class="fa fa-check"></i><b>E.3.2</b> Add your PAT to .Renviron</a></li>
</ul></li>
<li class="chapter" data-level="E.4" data-path="github-pat.html"><a href="github-pat.html#a-note-about-security"><i class="fa fa-check"></i><b>E.4</b> A note about security</a></li>
<li class="chapter" data-level="E.5" data-path="github-pat.html"><a href="github-pat.html#why-.renviron-instead-of-bash-config"><i class="fa fa-check"></i><b>E.5</b> Why <code>.Renviron</code> instead of bash config?</a></li>
</ul></li>
<li class="chapter" data-level="F" data-path="resources.html"><a href="resources.html"><i class="fa fa-check"></i><b>F</b> Resources</a></li>
<li class="chapter" data-level="G" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>G</b> References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Let’s Git After It</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="workflows-intro" class="section level1">
<h1><span class="header-section-number">Chapter 7</span> Useful Git patterns for real life</h1>
<p>Git patterns that come up frequently in real work:</p>
<ul>
<li>Commit early and often. Push less often. <a href="workflows-intro.html#repeated-amend">The Repeated Amend</a>.</li>
<li><a href="workflows-intro.html#push-rejected">Help, my push was rejected!</a></li>
<li><a href="workflows-intro.html#pull-tricky">Integrating remote and local work</a>. Probably so you can push again.</li>
<li>Burn it all down.</li>
<li>Time travel:
<ul>
<li><a href="workflows-intro.html#time-travel-see-past">“I just need to see the past”.</a> Browse and search on GitHub.</li>
<li>“I need to visit the past”. Create a checkout a branch.</li>
<li>“I want to return to the past”. <code>git revert</code>, <code>git reset</code></li>
<li>“I had a great cookie last October”. <code>git cherry pick</code>, <code>git checkout REF -- path</code></li>
</ul></li>
</ul>
<p>Play well with others:</p>
<ul>
<li><a href="workflows-intro.html#fork-and-clone">Fork and clone</a>.</li>
<li><a href="workflows-intro.html#upstream-changes">Get upstream changes for a fork</a>.</li>
<li>Disposable fork.</li>
<li><a href="workflows-intro.html#workflows-browsability">Make your repo rewarding to browse on GitHub</a>.</li>
<li><a href="#pr-extend">Explore and extend a pull request</a></li>
</ul>
<div id="repeated-amend" class="section level2">
<h2><span class="header-section-number">7.1</span> The Repeated Amend</h2>
<p>One of the principal joys of version control is the freedom to experiment
without fear. If you make a mess of things, you can always go back to a happier
version of your project. We describe several methods of such time travel in
<em>link to come</em>. But you must have a good commit to fall back to!</p>
<div id="rock-climbing-analogy" class="section level3">
<h3><span class="header-section-number">7.1.1</span> Rock climbing analogy</h3>
<div class="figure">
<blockquote>
Using a Git commit is like using anchors and other protection when climbing. If
you’re crossing a dangerous rock face you want to make sure you’ve used
protection to catch you if you fall. Commits play a similar role: if you make a
mistake, you can’t fall past the previous commit. Coding without commits is like
free-climbing: you can travel much faster in the short-term, but in the
long-term the chances of catastrophic failure are high! Like rock climbing
protection, you want to be judicious in your use of commits. Committing too
frequently will slow your progress; use more commits when you’re in uncertain or
dangerous territory. Commits are also helpful to others, because they show your
journey, not just the destination.
</blockquote>
<p class="caption">
<a href="http://r-pkgs.had.co.nz/git.html#git-commit">R Packages, Hadley Wickham</a> (<span class="citation">Wickham (<a href="references.html#ref-r-pkgs-book" role="doc-biblioref">2015</a>)</span>)
</p>
</div>
<p>Let’s talk about this:</p>
<blockquote>
<p>use more commits when you’re in uncertain or dangerous territory</p>
</blockquote>
<p>When I’m doing something tricky, I often proceed towards my goal in small
increments, checking that everything still works along the way. Yes it works?
Make a commit. This is my new worst case scenario. Keep going.</p>
<p>What’s not to love?</p>
<p>This can lead to an awful lot of tiny commits. This is absolutely fine and
nothing to be ashamed of. But one day you may start to care about the utility
and aesthetics of your Git history.</p>
<p>The Repeated Amend is a pattern where, instead of cluttering your history with
lots of tiny commits, you build up a “good” commit gradually, by amending.</p>
<p><em>Yes, there are other ways to do this, e.g. via squashing and interactive
rebase, but I think amending is the best way to get started.</em></p>
</div>
<div id="workflow-sketch" class="section level3">
<h3><span class="header-section-number">7.1.2</span> Workflow sketch</h3>
<div id="initial-condition" class="section level4">
<h4><span class="header-section-number">7.1.2.1</span> Initial condition</h4>
<p>Start with your project in a functional state:</p>
<ul>
<li>R package? Run your tests or <code>R CMD check</code>.</li>
<li>Data analysis? Re-run your script or re-render your <code>.Rmd</code> with the new chunk.</li>
<li>Website or book? Make sure the project still compiles.</li>
<li>You get the idea.</li>
</ul>
<p>Make sure your “working tree is clean” and you are synced up with your GitHub
remote. <code>git status</code> should show something like:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb69-1"><a href="workflows-intro.html#cb69-1"></a><span class="ex">On</span> branch master</span>
<span id="cb69-2"><a href="workflows-intro.html#cb69-2"></a><span class="ex">Your</span> branch is up to date with <span class="st">&#39;origin/master&#39;</span>.</span>
<span id="cb69-3"><a href="workflows-intro.html#cb69-3"></a></span>
<span id="cb69-4"><a href="workflows-intro.html#cb69-4"></a><span class="ex">nothing</span> to commit, working tree clean</span></code></pre></div>
</div>
<div id="get-to-work" class="section level4">
<h4><span class="header-section-number">7.1.2.2</span> Get to work</h4>
<p>Imagine we start at commit C, with previous commit B and, before that, A:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb70-1"><a href="workflows-intro.html#cb70-1"></a><span class="ex">...</span> -- A -- B -- C</span></code></pre></div>
<p>Make a small step towards your goal. Re-check that your project “works”.</p>
<p>Stage those changes and make a commit with the message “WIP”, meaning “work in
progress”. Do this in RStudio or in the shell (Appendix <a href="shell.html#shell">A</a>):</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb71-1"><a href="workflows-intro.html#cb71-1"></a><span class="fu">git</span> commit -m <span class="st">&quot;WIP&quot;</span></span></code></pre></div>
<p>The message can be anything, but “WIP” is a common convention. If you use it,
whenever you return to a project where the most recent commit message is “WIP”,
you’ll know that you were probably in the middle of something. If you push a
“WIP” commit, on purpose or by mistake, it signals to other people that more
commits might be coming.</p>
<p>Your history now looks like this:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb72-1"><a href="workflows-intro.html#cb72-1"></a><span class="ex">A</span> -- B -- C -- WIP*</span></code></pre></div>
<p><strong>Don’t push!</strong> The <code>*</code> above signifies a commit that exists only in your local
repo, not (yet) on GitHub.</p>
<p>Do a bit more work. Re-check that your project is still in a functional state.
Commit again but this time <strong>amend</strong> your previous commit. RStudio offers a
check box for “Amend previous commit” or in the shell:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb73-1"><a href="workflows-intro.html#cb73-1"></a><span class="fu">git</span> commit --amend --no-edit</span></code></pre></div>
<p>The <code>--no-edit</code> part retains the current commit message of “WIP”.</p>
<p><strong>Don’t push!</strong> Your history now looks like this:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb74-1"><a href="workflows-intro.html#cb74-1"></a><span class="ex">A</span> -- B -- C -- WIP*</span></code></pre></div>
<p>but the changes associated with the <code>WIP*</code> commit now represent your last two
commits, i.e. all the accumulated changes since state C.</p>
<p>Keep going like this.</p>
<p>Let’s say you’ve finally achieved your goal. One last time, check that your
project is functional and in a state you’re willing to share with others.</p>
<p>Commit, amending again, but with a real commit message this time. Think of this
as commit D. Push. Do this in RStudio or the shell:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb75-1"><a href="workflows-intro.html#cb75-1"></a><span class="fu">git</span> commit --amend -m <span class="st">&quot;Implement awesome feature; closes #43&quot;</span></span>
<span id="cb75-2"><a href="workflows-intro.html#cb75-2"></a><span class="fu">git</span> push</span></code></pre></div>
<p>Your history – and that on GitHub – look like this:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb76-1"><a href="workflows-intro.html#cb76-1"></a><span class="ex">A</span> -- B -- C -- D</span></code></pre></div>
<p>As far as the world knows, you implemented the feature in one fell swoop. But
you got to work on the task incrementally, with the peace of mind that you could
never truly break things.</p>
</div>
</div>
<div id="what-if-i-need-to-fall-back" class="section level3">
<h3><span class="header-section-number">7.1.3</span> What if I need to fall back?</h3>
<p>Imagine you’re in the middle of a Repeated Amend workflow:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb77-1"><a href="workflows-intro.html#cb77-1"></a><span class="ex">A</span> -- B -- C -- WIP*</span></code></pre></div>
<p>and you make some changes that break your project, e.g. tests start failing.
These bad changes are not yet committed, but they are saved. You want to fall
back to the last good state, represented by <code>WIP*</code>.</p>
<p>In Git lingo, you want to do a <strong>hard reset</strong> to the <code>WIP*</code> state. With the
command line:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb78-1"><a href="workflows-intro.html#cb78-1"></a><span class="fu">git</span> reset --hard</span></code></pre></div>
<p>which is implicitly the same as</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb79-1"><a href="workflows-intro.html#cb79-1"></a><span class="fu">git</span> reset --hard HEAD</span></code></pre></div>
<p>which says: “reset my files to their state at the most recent commit”.</p>
<p>This is also possible in RStudio. Click on “Diff” or “Commit”. Select a file
with changes you do not want. Use “Discard All” to discard all changes in that
file. Use “Discard chunk” to discard changes in that file, selectively. Repeat
this procedure for each affected file until you are back to an acceptable state.
Carry on.</p>
<p>If you committed a bad state, go to <em>link to come</em> for more reset scenarios.</p>
</div>
<div id="why-dont-we-push-intermediate-progress" class="section level3">
<h3><span class="header-section-number">7.1.4</span> Why don’t we push intermediate progress?</h3>
<p>Amending a commit is an example of what’s called “rewriting Git history”.</p>
<p>Rewriting history that has already been pushed to GitHub – and therefore
potentially pulled by someone else – is a controversial practice. Like most
controversial practices, lots of people still indulge in it, as do I.</p>
<p>But there is the very real possibility that you create headaches for yourself
and others, so in Happy Git we must recommend that you abstain. Once you’ve
pushed something, consider it written in stone and move on.</p>
</div>
<div id="um-what-if-i-did-push" class="section level3">
<h3><span class="header-section-number">7.1.5</span> Um, what if I did push?</h3>
<p>I told you not to!</p>
<p>But OK here we are.</p>
<p>Let’s imagine you pushed this state to GitHub by mistake:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb80-1"><a href="workflows-intro.html#cb80-1"></a><span class="ex">A</span> -- B -- C -- WIP (85bf30a)</span></code></pre></div>
<p>and proceeded to <code>git commit --amend</code> again locally, leading to this state:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb81-1"><a href="workflows-intro.html#cb81-1"></a><span class="ex">A</span> -- B -- C -- WIP* (6e884e6)</span></code></pre></div>
<p>I’m deliberately showing two histories that sort of look the same, in terms of
commit messages. But the last SHA reveals they are actually different.</p>
<p>You are in a pickle now, as you can’t do a simple push or pull. A push will be
rejected and a pull will probably lead to a merge that you don’t want.</p>
<p>You have two choices:</p>
<ul>
<li><p>Hard reset your local repo to <code>C</code> (<code>git reset --hard HEAD^</code>) and pull from
GitHub. Do this if you have collaborators who may have pulled that state.
GitHub and local history now show this:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb82-1"><a href="workflows-intro.html#cb82-1"></a><span class="ex">A</span> -- B -- C -- WIP (85bf30a)</span></code></pre></div></li>
<li><p>Force push to GitHub (<code>git push --force</code>). Do this if you have no
collaborators or you have reason to believe they have not pulled. GitHub and
local history now show this:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb83-1"><a href="workflows-intro.html#cb83-1"></a><span class="ex">A</span> -- B -- C -- WIP* (6e884e6)</span></code></pre></div></li>
</ul>
<p>Now you are synced up again.</p>
</div>
</div>
<div id="push-rejected" class="section level2">
<h2><span class="header-section-number">7.2</span> Dealing with push rejection</h2>
<p>Problem: You want to push changes to GitHub, but you are rejected like so:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb84-1"><a href="workflows-intro.html#cb84-1"></a>$ <span class="fu">git</span> push</span>
<span id="cb84-2"><a href="workflows-intro.html#cb84-2"></a><span class="ex">To</span> https://github.com/YOU/REPO.git</span>
<span id="cb84-3"><a href="workflows-intro.html#cb84-3"></a> ! [<span class="ex">rejected</span>]        master -<span class="op">&gt;</span> master (fetch first)</span>
<span id="cb84-4"><a href="workflows-intro.html#cb84-4"></a><span class="ex">error</span>: failed to push some refs to <span class="st">&#39;https://github.com/YOU/REPO.git&#39;</span></span>
<span id="cb84-5"><a href="workflows-intro.html#cb84-5"></a><span class="ex">hint</span>: Updates were rejected because the remote contains work that you do</span>
<span id="cb84-6"><a href="workflows-intro.html#cb84-6"></a><span class="ex">hint</span>: not have locally. This is usually caused by another repository pushing</span>
<span id="cb84-7"><a href="workflows-intro.html#cb84-7"></a><span class="ex">hint</span>: to the same ref. You may want to first integrate the remote changes</span>
<span id="cb84-8"><a href="workflows-intro.html#cb84-8"></a><span class="ex">hint</span>: (e.g., <span class="st">&#39;git pull ...&#39;</span>) <span class="ex">before</span> pushing again.</span>
<span id="cb84-9"><a href="workflows-intro.html#cb84-9"></a><span class="ex">hint</span>: See the <span class="st">&#39;Note about fast-forwards&#39;</span> in <span class="st">&#39;git push --help&#39;</span> for details.</span></code></pre></div>
<p>This means that your local Git history and that on the GitHub remote are not
compatible, i.e. they have diverged.</p>
<p>I suggest that you use <code>git status</code>, your <a href="install-intro.html#git-client">Git client</a>, or visit
your GitHub remote in the browser to get more information about the situation,
i.e. to get a sense of this work that you do not have.</p>
<p>In the abstract, this is the state on GitHub:</p>
<pre><code>A -- B -- C (on GitHub)</code></pre>
<p>And this is your local state:</p>
<pre><code>A -- B -- D (what you have)</code></pre>
<p>You can’t cause some sort of merge to happen to the GitHub copy when you push.</p>
<p>Instead, you’ve got pull the commit <code>C</code> and somehow integrate it into your
<code>D</code>-containing history. Then you will be able to push again.</p>
<p>This is covered in the workflow <a href="workflows-intro.html#pull-tricky">Pull, but you have local work</a>.</p>
<p>But before you behold the full horror of that, this is a great time to reflect
on what we can learn from this situation.</p>
<div id="she-who-pushes-first-wins" class="section level3">
<h3><span class="header-section-number">7.2.1</span> She who pushes first wins!</h3>
<p>You may have noticed that you – the author of <code>D</code> – are faffing around with
Git more than the person who committed and pushed <code>C</code>, i.e. your collaborator.</p>
<p>There is a lesson to be learned here!</p>
<p>If you had pushed <code>D</code> first, you’d be relaxing and they’d be figuring out how to
integrate <code>C</code> into their history in order to push. So push your work often.
Don’t go dark and work “offline” for long stretches of time.</p>
<p>Obviously, you should push work to <code>master</code> because it’s “ready” to share (or at
least “ready enough”), not to avoid Git merges.</p>
<p>There is a truly legitimate point here: It is better for the overall health of a
project to be committing, pushing, and integrating more often, not less. This
does not eliminate the need to integrate different lines of work, but it makes
each integration smaller, less burdensome, and less prone to error.</p>
</div>
<div id="stay-in-touch" class="section level3">
<h3><span class="header-section-number">7.2.2</span> Stay in touch</h3>
<p>Another take away is this: the sooner you know about <code>C</code>, the better. Pull (or
fetch) often.</p>
<p>Let’s think about your commit <code>D</code>. Maybe it was built up over a couple of days
via the <a href="workflows-intro.html#repeated-amend">Repeated Amend pattern</a>. Maybe <code>C</code> was sitting there
on GitHub the whole time or appeared very early in your process.</p>
<p>Consider that it might be easier to integrate <code>C</code> into your work <code>D</code> sooner
rather than later. Sometimes this is not true, but more often it is.</p>
<p>In general, it pays off to be proactively aware of what others are doing (e.g.
to pull or fetch often) than to always be in reactive mode, learning about your
collaborator’s work only when your push is rejected.</p>
</div>
<div id="use-branches" class="section level3">
<h3><span class="header-section-number">7.2.3</span> Use branches</h3>
<p>Finally, your early experiences collaborating with others and yourself in
<code>master</code> will give you a visceral understanding of why most Git users eventually
start to use <a href="git-intro.html#git-branches">branches</a>.</p>
<p>Branches afford explicit workflows for integrating different lines of work on
your own terms. This is much nicer than trying to do a tricky merge or rebase in
a frustrated panic, because you need to push your work to GitHub at the end of
the day.</p>
</div>
</div>
<div id="pull-tricky" class="section level2">
<h2><span class="header-section-number">7.3</span> Pull, but you have local work</h2>
<p>Problem: You want to pull changes from upstream, but you have done some new work
locally since the last time you pulled. This often comes up because
<a href="workflows-intro.html#push-rejected">what you actually want to do is <em>push</em></a>, but Git won’t let you
until you first incorporate the upstream changes.</p>
<p>For the sake of simplicity, assume we’re dealing with the <code>master</code> branch and the remote is called <code>origin</code>.</p>
<p>Recent commit history of <code>origin/master</code>:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb87-1"><a href="workflows-intro.html#cb87-1"></a><span class="ex">A--B--C</span></span></code></pre></div>
<p>Recent commit history of the local <code>master</code> branch:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb88-1"><a href="workflows-intro.html#cb88-1"></a><span class="ex">A--B--D</span></span></code></pre></div>
<p>or maybe</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb89-1"><a href="workflows-intro.html#cb89-1"></a><span class="ex">A--B--</span>(uncommitted changes)</span></code></pre></div>
<p>Your goal: get commit <code>C</code> into your local branch, while retaining the work in commit <code>D</code> or your uncommitted changes.</p>
<ul>
<li>Local state is <code>A--B--(uncommitted changes)</code>: You could use <code>git stash</code>. Or
you could just make a commit to simplify your life (see next bullet).</li>
<li>Local state is <code>A--B--D</code>: You can get to <code>A--B--C--D</code> or <code>A--B--(something that includes C and D)</code>.</li>
<li>Local state is <code>A--B--D--(uncommitted changes)</code>: You could just make a
commit – a new one or amend <code>D</code> – to simplify your life (see previous
bullet).</li>
</ul>
<p>We prioritize simple approaches that are good for early Git use, but mention
nicer long-term alternatives.</p>
</div>
<div id="local-work-is-uncommitted" class="section level2">
<h2><span class="header-section-number">7.4</span> Local work is uncommitted</h2>
<p>Remote state is <code>A--B--C</code>.<br />
Local state is <code>A--B--(uncommitted changes)</code>.</p>
<div id="happy-simple-cases" class="section level4">
<h4><span class="header-section-number">7.4.0.1</span> Happy simple cases</h4>
<p>There are two happy scenarios, in which <code>git pull</code> will “just work”:</p>
<ul>
<li>You’ve introduced completely new files that don’t exist in the remote branch
and, therefore, cannot possibly have conflicting changes. You’re in luck!
You can just <code>git pull</code>.</li>
<li>The files affected by your local work have ZERO overlap with the files
affected by the changes you need to pull from the remote. You’re also in
luck! You can just <code>git pull</code>.</li>
</ul>
<p>Summary of these happy <code>git pull</code> scenarios:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb90-1"><a href="workflows-intro.html#cb90-1"></a>                 <span class="ex">Remote</span>: A--B--C</span>
<span id="cb90-2"><a href="workflows-intro.html#cb90-2"></a></span>
<span id="cb90-3"><a href="workflows-intro.html#cb90-3"></a><span class="ex">Local</span> before <span class="st">&#39;git pull&#39;</span>: A--B--(uncommitted changes)</span>
<span id="cb90-4"><a href="workflows-intro.html#cb90-4"></a> <span class="ex">Local</span> after <span class="st">&#39;git pull&#39;</span>: A--B--C--(uncommitted changes)</span></code></pre></div>
<p>What has actually happened here is that <code>git pull</code> resulted in a <em>fast-forward
merge</em>, i.e. we placed commit <code>C</code> right on the end of your history. This would
also be the case in the simpler situation where recent local history was just
<code>A--B</code>, i.e. you had not added any local work since the last sync up with
<code>origin/master</code>.</p>
</div>
<div id="git-stash-works-sometimes" class="section level4">
<h4><span class="header-section-number">7.4.0.2</span> <code>git stash</code> works, sometimes</h4>
<p>If your changes affect a file (<code>foo.R</code> in the example below) that has also been
changed in commit <code>C</code>, you cannot <code>git pull</code>. It doesn’t hurt to try, but you
will fail and it will look something like this:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb91-1"><a href="workflows-intro.html#cb91-1"></a><span class="ex">jenny@2015-mbp</span> ethel $ git pull</span>
<span id="cb91-2"><a href="workflows-intro.html#cb91-2"></a><span class="ex">remote</span>: Enumerating objects: 5, done.</span>
<span id="cb91-3"><a href="workflows-intro.html#cb91-3"></a><span class="ex">remote</span>: Counting objects: 100% (5/5), <span class="kw">done</span><span class="ex">.</span></span>
<span id="cb91-4"><a href="workflows-intro.html#cb91-4"></a><span class="ex">remote</span>: Compressing objects: 100% (2/2), <span class="kw">done</span><span class="ex">.</span></span>
<span id="cb91-5"><a href="workflows-intro.html#cb91-5"></a><span class="ex">remote</span>: Total 3 (delta 1), <span class="ex">reused</span> 1 (delta 0), <span class="ex">pack-reused</span> 0</span>
<span id="cb91-6"><a href="workflows-intro.html#cb91-6"></a><span class="ex">Unpacking</span> objects: 100% (3/3), <span class="kw">done</span><span class="ex">.</span></span>
<span id="cb91-7"><a href="workflows-intro.html#cb91-7"></a><span class="ex">From</span> github.com:jennybc/ethel</span>
<span id="cb91-8"><a href="workflows-intro.html#cb91-8"></a>   <span class="ex">db046b4..2d33a6f</span>  master     -<span class="op">&gt;</span> origin/master</span>
<span id="cb91-9"><a href="workflows-intro.html#cb91-9"></a><span class="ex">Updating</span> db046b4..2d33a6f</span>
<span id="cb91-10"><a href="workflows-intro.html#cb91-10"></a><span class="ex">error</span>: Your local changes to the following files would be overwritten by merge:</span>
<span id="cb91-11"><a href="workflows-intro.html#cb91-11"></a>        <span class="ex">foo.R</span></span>
<span id="cb91-12"><a href="workflows-intro.html#cb91-12"></a><span class="ex">Please</span> commit your changes or stash them before you merge.</span>
<span id="cb91-13"><a href="workflows-intro.html#cb91-13"></a><span class="ex">Aborting</span></span></code></pre></div>
<p>Now what? First, you must safeguard your local changes by either stashing or
committing them. (I personally would choose to commit and execute a workflow
described in <a href="workflows-intro.html#git-pull-with-local-commits">7.4.1</a>.)</p>
<p>I am not a big fan of <code>git stash</code>; I think it’s usually better to take every
possible chance to solidify your skills around core concepts and operations,
e.g., make a commit, possibly in a branch. But if you want to use <code>git stash</code>,
this opportunity is as good as it gets.</p>
<p><code>git stash</code> is a way to temporarily store some changes to get them out of the
way. Now you can do something else, without a lot of fuss. In our case, “do
something else” is to get the upstream changes with a nice, simple <code>git pull</code>.
Then you reapply and delete the stash and pick up where you left off.</p>
<p>For more details about stashing, I recommend</p>
<ul>
<li>The stashing coverage in the “Filesystem interactions” chapter of Git in
Practice (<a href="https://gitinpractice.com">book website</a> or
<a href="https://github.com/GitInPractice/GitInPractice#readme">read on GitHub</a>)</li>
<li><a href="https://git-scm.com/book/en/v2/Git-Tools-Stashing-and-Cleaning">7.3 Git Tools - Stashing and Cleaning</a> in
<a href="https://git-scm.com/book/en/v2">Pro Git</a>.</li>
</ul>
<p>Here’s the best case scenario for “stash, pull, unstash” in the example above:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb92-1"><a href="workflows-intro.html#cb92-1"></a><span class="fu">git</span> stash save</span>
<span id="cb92-2"><a href="workflows-intro.html#cb92-2"></a><span class="fu">git</span> pull</span>
<span id="cb92-3"><a href="workflows-intro.html#cb92-3"></a><span class="fu">git</span> stash pop</span></code></pre></div>
<p>And here’s the output from our example:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb93-1"><a href="workflows-intro.html#cb93-1"></a><span class="ex">jenny@2015-mbp</span> ethel $ git stash save</span>
<span id="cb93-2"><a href="workflows-intro.html#cb93-2"></a><span class="ex">Saved</span> working directory and index state WIP on master: db046b4 Merge branch <span class="st">&#39;master&#39;</span>of github.com:jennybc/ethel</span>
<span id="cb93-3"><a href="workflows-intro.html#cb93-3"></a></span>
<span id="cb93-4"><a href="workflows-intro.html#cb93-4"></a><span class="ex">jenny@2015-mbp</span> ethel $ git pull</span>
<span id="cb93-5"><a href="workflows-intro.html#cb93-5"></a><span class="ex">Updating</span> db046b4..2d33a6f</span>
<span id="cb93-6"><a href="workflows-intro.html#cb93-6"></a><span class="ex">Fast-forward</span></span>
<span id="cb93-7"><a href="workflows-intro.html#cb93-7"></a> <span class="ex">foo.R</span> <span class="kw">|</span> <span class="ex">2</span> +-</span>
<span id="cb93-8"><a href="workflows-intro.html#cb93-8"></a> <span class="ex">1</span> file changed, 1 insertion(+), <span class="ex">1</span> deletion(-)</span>
<span id="cb93-9"><a href="workflows-intro.html#cb93-9"></a></span>
<span id="cb93-10"><a href="workflows-intro.html#cb93-10"></a><span class="ex">jenny@2015-mbp</span> ethel $ git stash pop</span>
<span id="cb93-11"><a href="workflows-intro.html#cb93-11"></a><span class="ex">Auto-merging</span> foo.R</span>
<span id="cb93-12"><a href="workflows-intro.html#cb93-12"></a><span class="ex">On</span> branch master</span>
<span id="cb93-13"><a href="workflows-intro.html#cb93-13"></a><span class="ex">Your</span> branch is up-to-date with <span class="st">&#39;origin/master&#39;</span>.</span>
<span id="cb93-14"><a href="workflows-intro.html#cb93-14"></a></span>
<span id="cb93-15"><a href="workflows-intro.html#cb93-15"></a><span class="ex">Changes</span> not staged for commit:</span>
<span id="cb93-16"><a href="workflows-intro.html#cb93-16"></a>  <span class="kw">(</span><span class="ex">use</span> <span class="st">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed<span class="kw">)</span></span>
<span id="cb93-17"><a href="workflows-intro.html#cb93-17"></a>  <span class="kw">(</span><span class="ex">use</span> <span class="st">&quot;git checkout -- &lt;file&gt;...&quot;</span> to discard changes in working directory<span class="kw">)</span></span>
<span id="cb93-18"><a href="workflows-intro.html#cb93-18"></a></span>
<span id="cb93-19"><a href="workflows-intro.html#cb93-19"></a>        <span class="ex">modified</span>:   foo.R</span>
<span id="cb93-20"><a href="workflows-intro.html#cb93-20"></a></span>
<span id="cb93-21"><a href="workflows-intro.html#cb93-21"></a><span class="ex">no</span> changes added to commit (use <span class="st">&quot;git add&quot;</span> and/or <span class="st">&quot;git commit -a&quot;</span>)</span>
<span id="cb93-22"><a href="workflows-intro.html#cb93-22"></a><span class="ex">Dropped</span> refs/stash@<span class="dt">{0}</span> (012c4dcd3a4c3af6757c4c3ca99a9eaeff1eb2a4)</span></code></pre></div>
<p>That is what success looks like. You’ve achieved this:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb94-1"><a href="workflows-intro.html#cb94-1"></a>      <span class="ex">Remote</span>: A--B--C</span>
<span id="cb94-2"><a href="workflows-intro.html#cb94-2"></a></span>
<span id="cb94-3"><a href="workflows-intro.html#cb94-3"></a><span class="ex">Local</span> before: A--B--(uncommitted changes)</span>
<span id="cb94-4"><a href="workflows-intro.html#cb94-4"></a> <span class="ex">Local</span> after: A--B--C--(uncommitted changes)</span></code></pre></div>
<p>As above, we have just enjoyed a fast-forward merge, made possible by
temporarily stashing then unstashing the uncommitted local changes.</p>
</div>
<div id="git-stash-with-conflicts" class="section level4">
<h4><span class="header-section-number">7.4.0.3</span> <code>git stash</code> with conflicts</h4>
<p>If your local changes have some overlap with changes you are pulling, you will,
instead get a merge conflict from <code>git stash pop</code>. Now you have some remedial
work to do. In this case, you have gained nothing by using <code>git stash</code> in the
first place, which explains my general lack of enthusiasm for <code>git stash</code>.</p>
<p>Here’s how to execute the <code>git stash</code> workflow in our example, in the face of
conflicts (based on
<a href="https://stackoverflow.com/a/27382210/2825349">this Stack Overflow answer</a>):</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb95-1"><a href="workflows-intro.html#cb95-1"></a><span class="ex">jenny@2015-mbp</span> ethel $ git stash save</span>
<span id="cb95-2"><a href="workflows-intro.html#cb95-2"></a><span class="ex">Saved</span> working directory and index state WIP on master: 2d33a6f Back to 5</span>
<span id="cb95-3"><a href="workflows-intro.html#cb95-3"></a></span>
<span id="cb95-4"><a href="workflows-intro.html#cb95-4"></a><span class="ex">jenny@2015-mbp</span> ethel $ git pull</span>
<span id="cb95-5"><a href="workflows-intro.html#cb95-5"></a><span class="ex">Updating</span> 2d33a6f..1eddf9e</span>
<span id="cb95-6"><a href="workflows-intro.html#cb95-6"></a><span class="ex">Fast-forward</span></span>
<span id="cb95-7"><a href="workflows-intro.html#cb95-7"></a> <span class="ex">foo.R</span> <span class="kw">|</span> <span class="ex">1</span> +</span>
<span id="cb95-8"><a href="workflows-intro.html#cb95-8"></a> <span class="ex">1</span> file changed, 1 insertion(+)</span>
<span id="cb95-9"><a href="workflows-intro.html#cb95-9"></a> </span>
<span id="cb95-10"><a href="workflows-intro.html#cb95-10"></a><span class="ex">jenny@2015-mbp</span> ethel $ git stash pop</span>
<span id="cb95-11"><a href="workflows-intro.html#cb95-11"></a><span class="ex">Auto-merging</span> foo.R</span>
<span id="cb95-12"><a href="workflows-intro.html#cb95-12"></a><span class="ex">CONFLICT</span> (content)<span class="bu">:</span> Merge conflict in foo.R</span></code></pre></div>
<p>At this point, you must resolve the merge conflict (<em>future link</em>). Literally,
at each locus of conflict, pick one version or the other (upstream or stashed)
or create a hybrid yourself. Remove the all the markers inserted to demarcate
the conflicts. Save.</p>
<p>Since <code>git stash pop</code> did not go smoothly, we need to manually reset (<em>future
link</em>) and delete the stash to finish.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb96-1"><a href="workflows-intro.html#cb96-1"></a><span class="ex">jenny@2015-mbp</span> ethel $ git reset</span>
<span id="cb96-2"><a href="workflows-intro.html#cb96-2"></a><span class="ex">Unstaged</span> changes after reset:</span>
<span id="cb96-3"><a href="workflows-intro.html#cb96-3"></a><span class="ex">M</span>       foo.R</span>
<span id="cb96-4"><a href="workflows-intro.html#cb96-4"></a></span>
<span id="cb96-5"><a href="workflows-intro.html#cb96-5"></a><span class="ex">jenny@2015-mbp</span> ethel $ git stash drop</span>
<span id="cb96-6"><a href="workflows-intro.html#cb96-6"></a><span class="ex">Dropped</span> refs/stash@<span class="dt">{0}</span> (7928db50288e9b4d934803b6b451a000fd7242ed)</span></code></pre></div>
<p>Phew, we are done. We’ve achieved this:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb97-1"><a href="workflows-intro.html#cb97-1"></a>      <span class="ex">Remote</span>: A--B--C</span>
<span id="cb97-2"><a href="workflows-intro.html#cb97-2"></a></span>
<span id="cb97-3"><a href="workflows-intro.html#cb97-3"></a><span class="ex">Local</span> before: A--B--(uncommitted changes)</span>
<span id="cb97-4"><a href="workflows-intro.html#cb97-4"></a> <span class="ex">Local</span> after: A--B--C--(uncommitted changes*)</span></code></pre></div>
<p>The asterisk on <code>uncommitted changes*</code> indicates that your uncommitted changes
might now reflect adjustments made when you resolved the conflicts.</p>
</div>
<div id="git-pull-with-local-commits" class="section level3">
<h3><span class="header-section-number">7.4.1</span> Local work is committed</h3>
<p>Remote state is <code>A--B--C</code>.<br />
Local state is <code>A--B--D</code>.</p>
<div id="pull-fetch-and-merge" class="section level4">
<h4><span class="header-section-number">7.4.1.1</span> Pull (fetch and merge)</h4>
<p>The simplest option is to fetch the commits from upstream and merge them, which
is what <code>git pull</code> does. This is a good option if you’re new to Git. It leads to
a messier history, but when you are new, this is the least of your worries.
Merge, be happy, and carry on.</p>
<p>Here is the best case, no-merge-conflicts version of <code>git pull</code>:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb98-1"><a href="workflows-intro.html#cb98-1"></a><span class="ex">jenny@2015-mbp</span> ethel $ git pull</span>
<span id="cb98-2"><a href="workflows-intro.html#cb98-2"></a></span>
<span id="cb98-3"><a href="workflows-intro.html#cb98-3"></a><span class="op">&lt;</span> <span class="ex">YOU</span> WILL PROBABLY BE KICKED INTO AN EDITOR HERE RE: MERGE COMMIT MESSAGE! <span class="op">&gt;</span></span>
<span id="cb98-4"><a href="workflows-intro.html#cb98-4"></a></span>
<span id="cb98-5"><a href="workflows-intro.html#cb98-5"></a><span class="ex">Merge</span> made by the <span class="st">&#39;recursive&#39;</span> strategy.</span>
<span id="cb98-6"><a href="workflows-intro.html#cb98-6"></a> <span class="ex">README.md</span> <span class="kw">|</span> <span class="ex">4</span> ++--</span>
<span id="cb98-7"><a href="workflows-intro.html#cb98-7"></a> <span class="ex">1</span> file changed, 2 insertions(+), <span class="ex">2</span> deletions(-)</span></code></pre></div>
<p>Depending on your version of Git, your config, and your use of a GUI, you might
be required to confirm/edit a commit message for the merge commit.</p>
<p>Or what if things don’t go this smoothly? If commit <code>C</code> (on the remote) and
commit <code>D</code> (local) have changes to the same parts of one or more files, Git may
not be able to automatically merge and you will get merge conflicts. It will
look something like this:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb99-1"><a href="workflows-intro.html#cb99-1"></a><span class="ex">jenny@2015-mbp</span> ethel $ git pull</span>
<span id="cb99-2"><a href="workflows-intro.html#cb99-2"></a><span class="ex">Auto-merging</span> foo.R</span>
<span id="cb99-3"><a href="workflows-intro.html#cb99-3"></a><span class="ex">CONFLICT</span> (content)<span class="bu">:</span> Merge conflict in foo.R</span>
<span id="cb99-4"><a href="workflows-intro.html#cb99-4"></a><span class="ex">Automatic</span> merge failed<span class="kw">;</span> <span class="ex">fix</span> conflicts and then commit the result.</span></code></pre></div>
<p>You must resolve these conflicts (<em>future link</em>). Literally, at each locus of
conflict, pick one version or the other (upstream or local) or create a hybrid
yourself. Remove the all the markers inserted to demarcate the conflicts. Save.</p>
<p>Mark the affected file <code>foo.R</code> as resolved via <code>git add</code> and make an explicit
<code>git commit</code> to finalize this merge.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb100-1"><a href="workflows-intro.html#cb100-1"></a><span class="ex">jenny@2015-mbp</span> ethel $ git add foo.R</span>
<span id="cb100-2"><a href="workflows-intro.html#cb100-2"></a><span class="ex">jenny@2015-mbp</span> ethel $ git commit</span>
<span id="cb100-3"><a href="workflows-intro.html#cb100-3"></a>[<span class="ex">master</span> 20b297b] Merge branch <span class="st">&#39;master&#39;</span> of github.com:jennybc/ethel</span></code></pre></div>
<p>Again, do not be surprised if, during <code>git commit</code>, you find yourself in an
editor, confirming/editing the commit message for the merge commit.</p>
<p>We’ve achieved this:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb101-1"><a href="workflows-intro.html#cb101-1"></a>      <span class="ex">Remote</span>: A--B--C</span>
<span id="cb101-2"><a href="workflows-intro.html#cb101-2"></a></span>
<span id="cb101-3"><a href="workflows-intro.html#cb101-3"></a><span class="ex">Local</span> before: A--B--D</span>
<span id="cb101-4"><a href="workflows-intro.html#cb101-4"></a> <span class="ex">Local</span> after: A--B--D--(merge commit)</span>
<span id="cb101-5"><a href="workflows-intro.html#cb101-5"></a>                  \<span class="ex">_C_/</span></span></code></pre></div>
</div>
<div id="pull-and-rebase" class="section level4">
<h4><span class="header-section-number">7.4.1.2</span> Pull and rebase</h4>
<p><code>git pull --rebase</code> creates a nicer history than <code>git pull</code> when integrating
local and remote commits. It avoids a merge commit, so the history is less
cluttered and is linear. It can make merge conflicts more onerous to resolve,
which is why I still recommend <code>git pull</code> as the entry-level solution.</p>
<p>Here is the best case, no-merge-conflicts version of <code>git pull --rebase</code>:</p>
<pre><code>jenny@2015-mbp ethel $ git pull --rebase
First, rewinding head to replay your work on top of it...
Applying: Take max</code></pre>
<p>Notice that you were NOT kicked into an editor to fiddle with the commit message
for the merge commit, because there is no merge commit! This is the beauty of
rebasing.</p>
<p>We’ve achieved this:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb103-1"><a href="workflows-intro.html#cb103-1"></a>      <span class="ex">Remote</span>: A--B--C</span>
<span id="cb103-2"><a href="workflows-intro.html#cb103-2"></a></span>
<span id="cb103-3"><a href="workflows-intro.html#cb103-3"></a><span class="ex">Local</span> before: A--B--D</span>
<span id="cb103-4"><a href="workflows-intro.html#cb103-4"></a> <span class="ex">Local</span> after: A--B--C--D</span></code></pre></div>
<p>It is as if we pulled the upstream work in commit <code>C</code>, then did the local work
embodied in commit <code>D</code>. We have no cluttery merge commits and a linear history.
Nice!</p>
<p>The bad news: As with plain vanilla <code>git pull</code>, it is still possible to get
merge conflicts with <code>git pull --rebase</code>. If you have multiple local commits,
you can even find yourself resolving conflicts over and over, as these commits
are sequentially replayed. Hence this is a better fit for more experienced Git
users and in situations where conflicts are unlikely (those tend to be
correlated, actually).</p>
<p>At this point, if you try to do <code>git pull --rebase</code> and get bogged down in merge
conflicts, I recommend <code>git rebase --abort</code> to back out. For now, just pursue a
more straightforward strategy.</p>
</div>
</div>
<div id="other-approaches" class="section level3">
<h3><span class="header-section-number">7.4.2</span> Other approaches</h3>
<p>There are many more ways to handle this situation, which you can discover and
explore as you gain experience and start to care more about the history. We
sketch some ideas here.</p>
<div id="use-a-temporary-branch-for-local-work" class="section level4">
<h4><span class="header-section-number">7.4.2.1</span> Use a temporary branch for local work</h4>
<p>Recall:<br />
Remote state is <code>A--B--C</code>.<br />
Local state is <code>A--B--(uncommitted changes)</code>.</p>
<p>This is an alternative to the stash workflow that has the advantage of giving
you practice with Git techniques that are more generally useful. It also leads
to a nice history.</p>
<p>Create a new, temporary branch and commit your uncommitted changes there.
Checkout <code>master</code> and <code>git pull</code> to get changes from upstream. You now need to
recover the work from the commit in the temporary branch. Options:</p>
<ul>
<li>Merge the temporary branch into <code>master</code>.</li>
<li>Cherry pick the commit from the temporary branch into <code>master</code>.</li>
</ul>
<p>In either case, it is still possible you will need to deal with merge
conflicts.</p>
<p>In either case, if you felt forced to commit before you were ready or to accept
an ugly merge commit, you can either do a mixed reset to “uncommit” but keep the
changes on <code>master</code> or keep amending until you are satisfied with the commit.</p>
</div>
</div>
<div id="some-local-work-is-committed-some-is-not" class="section level3">
<h3><span class="header-section-number">7.4.3</span> Some local work is committed, some is not</h3>
<p>This is an awkward hybrid situation that can be handled with a combination of
strategies seen above: make a pragmatic commit on <code>master</code> or a temporary
branch. Integrate the upstream and local changes in <code>master</code>. If you aren’t
happy with the final pragmatic commit (which only exists locally), reset or
amend until you are.</p>
</div>
</div>
<div id="time-travel-see-past" class="section level2">
<h2><span class="header-section-number">7.5</span> Time travel: See the past</h2>
<!-- http://www.commitstrip.com/en/2019/01/28/git-lfs/? -->
<p>Sometimes you just need to <strong>see</strong> various files in your project as they were at
some significant moment in the past. Examples:</p>
<ul>
<li>“I liked the color scheme of this plot better in last week’s draft”. “What’s
up with that new funky outlier in figure 2?”
<ul>
<li>Here you’ll want to visit scripts and source data as they were the last
time you generated visualizations to share with this colleague.</li>
</ul></li>
<li>“The build has been failing on Windows for two weeks.”
<ul>
<li>Here you’ll want to inspect package source at the “last known good”
version and scrutinize subsequent commits.</li>
</ul></li>
</ul>
<p>All projects move through various states that you regard as “good” vs. “bad” or
something in between. It can be useful to explore the past, when trying to get
into a “good” state.</p>
<div id="hyperlinks-are-awesome" class="section level3">
<h3><span class="header-section-number">7.5.1</span> Hyperlinks are awesome!</h3>
<p>This is where GitHub really shines. The ability to quickly explore different
commits/states, switch between branches, inspect individual files, and see the
discussion in linked issues is incredibly powerful.</p>
<p>Yes, technically, you can visit past states of your project using Git commands
locally. But it is significantly more cumbersome. You generally have to checkout
these previous states, which raises the prospect of getting comfortable in the
“detached head” state and unintentionally making new commits on the wrong branch
or on no branch at all.</p>
<p>GitHub’s hyperlink-rich presentation of your repo and its history is one of the
top reasons to sync local work to a copy on GitHub, even if you keep it private.
It can be much easier to hone in on a state or change of interest by clicking
around or using GitHub’s search features. Also, because it is so clearly a
remote and read-only action, there is no possibility of goofing up local state
or committing new work to the wrong branch.</p>
</div>
<div id="browse-commit-history-and-specific-commits" class="section level3">
<h3><span class="header-section-number">7.5.2</span> Browse commit history and specific commits</h3>
<p>From your repo’s landing page, access commit history by clicking on “xyz
commits”. This is like using <code>git log</code> locally, but much more rewarding. If you
have a good <a href="install-intro.html#git-client">local Git client</a>, it probably also provides a
graphical overview of history.</p>
<div class="figure"><span id="fig:github-link-to-commit-listing"></span>
<img src="img/screenshots/github-link-to-commits.png" alt="Link to commit listing on GitHub." width="100%" />
<p class="caption">
Figure 7.1: Link to commit listing on GitHub.
</p>
</div>
<p>Once you’re viewing the history, notice three ways to access more info for each
commit:</p>
<ol style="list-style-type: decimal">
<li>The clipboard icon copies the SHA-1 of the commit. This can be handy if you
need to refer to this commit elsewhere, e.g. in an issue thread or a commit
message or in a Git command you’re forming for local execution.</li>
<li>Click on the abbreviated SHA-1 itself in order to the view the diff
associated with the commit.</li>
<li>Click on the double angle brackets <code>&lt;&gt;</code> to browse the state of the entire
repo at that point in history.</li>
</ol>
<div class="figure"><span id="fig:github-commit-listing"></span>
<img src="img/screenshots/github-commit-listing.png" alt="Example of a commit listing on GitHub." width="100%" />
<p class="caption">
Figure 7.2: Example of a commit listing on GitHub.
</p>
</div>
<p>Back out of any drilled down view by clicking on <code>YOU/REPO</code> to return to your
repo’s landing page. This brings you back to the present state and top-level of
your repo.</p>
</div>
<div id="use-hyperlinks-yourself" class="section level3">
<h3><span class="header-section-number">7.5.3</span> Use hyperlinks yourself!</h3>
<p>Once you’ve identified a relevant commit, diff, or file state, you can copy the
current URL from your browser and use it to enhance online discussion elsewhere,
i.e. to bring other people to this exact view of the repo. The hyperlink-iness
of repos hosted on GitHub can make online discussion of a project much more
precise and efficient.</p>
</div>
<div id="file-driven-inquiries" class="section level3">
<h3><span class="header-section-number">7.5.4</span> File driven inquiries</h3>
<p>What if you’re interested in how a specific file came to be the way it is? First
navigate to the file, then notice “Blame” and “History” in the upper right.</p>
<div class="figure"><span id="fig:github-specific-file"></span>
<img src="img/screenshots/github-specific-file.png" alt="Visiting a specific file on GitHub." width="100%" />
<p class="caption">
Figure 7.3: Visiting a specific file on GitHub.
</p>
</div>
</div>
<div id="blame" class="section level3">
<h3><span class="header-section-number">7.5.5</span> Blame</h3>
<p>The “blame” view of a file is related to what <code>git blame</code> does on the command
line. It reveals who last touched each line of the file, how long ago, and the
associated commit message. Click on the commit message to visit that commit. Or
click the “stacked rectangles” icon to move further back in time, but staying in
blame view. This is handy when doing forensics on a specific and small set of
lines.</p>
</div>
<div id="history" class="section level3">
<h3><span class="header-section-number">7.5.6</span> History</h3>
<p>The “history” view for a file is very much like the overall commit history
described above, except it only includes commits that affect the file of
interest. This can be handy when your inquiry is rather diffuse and you’re
trying to digest the general story arc for a file.</p>
</div>
<div id="hyperlink-to-specific-lines-at-a-specific-state" class="section level3">
<h3><span class="header-section-number">7.5.7</span> Hyperlink to specific lines at a specific state</h3>
<p>When viewing a file on GitHub, you can click on a line number to highlight it.
Use “click … shift-click” to select a range of lines. Notice your browser’s
URL shows something of this form:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb104-1"><a href="workflows-intro.html#cb104-1"></a><span class="ex">https</span>://github.com/OWNER/REPO/blob/SHA/path/to/file.R#L27-L31</span></code></pre></div>
<p>If the URL does not contain the SHA, type “y” to toggle into that form.</p>
<p>These file- and SHA-specific URLs are a great way to point people at particular
lines of code in online conversations. It’s best practice to use the uglier
links that contain the SHA, as they will stand the test of time.</p>
</div>
<div id="search" class="section level3">
<h3><span class="header-section-number">7.5.8</span> Search</h3>
<p>Search is always available in the upper-righthand corner of GitHub.</p>
<div class="figure"><span id="fig:github-repo-search"></span>
<img src="img/screenshots/github-repo-search.png" alt="Typing into GitHub search bar." width="100%" />
<p class="caption">
Figure 7.4: Typing into GitHub search bar.
</p>
</div>
<p>Once you enter some text in the search box, a dropdown provides the choice to
search in the current repo (the default) or all of GitHub. GitHub searches the
contents of files (described as “Code”), commit messages, and issues. Take
advantage of the search hits across these different domains. Again, this is a
powerful way to zoom in on specific lines of code, revisit an interesting time
in project history, or re-discover a conversation thread.</p>
</div>
<div id="issue-search" class="section level3">
<h3><span class="header-section-number">7.5.9</span> Issue search</h3>
<p>If you want to search issues specifically, the search box on any repo’s Issues
page is prepopulated with the filters <code>is:issue</code> and <code>is:open</code>.</p>
</div>
</div>
<div id="fork-and-clone" class="section level2">
<h2><span class="header-section-number">7.6</span> Fork and clone</h2>
<p>Use “fork and clone” to get a copy of someone else’s repo if there’s any chance
you will want to propose a change to the owner, i.e. send a “pull request”. If
you are waffling between “clone” and “fork and clone”, go with “fork and
clone”.</p>
<div id="initial-workflow" class="section level3">
<h3><span class="header-section-number">7.6.1</span> Initial workflow</h3>
<p>On <a href="https://github.com">GitHub</a>, make sure you are signed in and navigate to the
repo of interest. Think of this as <code>OWNER/REPO</code>, where <code>OWNER</code> is the user or
organization who owns the repository named <code>REPO</code>.</p>
<p>In the upper right hand corner, click <strong>Fork</strong>.</p>
<p>This creates a copy of <code>REPO</code> in your GitHub account and takes you there in the
browser. Now we are looking at <code>YOU/REPO</code>.</p>
<p><strong>Clone</strong> <code>YOU/REPO</code>, which is your copy of the repo, a.k.a. your fork, to your
local machine. You have two options:</p>
<ul>
<li><a href="usage-intro.html#existing-github-first">Existing project, GitHub first</a>, an RStudio workflow we’ve used before.
<ul>
<li>Your fork <code>YOU/REPO</code> plays the role of the existing GitHub repo, in this
case – not the original repo!</li>
<li>Make a conscious decision about the local destination directory and HTTPS vs SSH URL.</li>
</ul></li>
<li>Execute <code>git clone https://github.com/YOU/REPO.git</code> (or <code>git clone git@github.com:YOU/REPO.git</code>) in the shell (Appendix <a href="shell.html#shell">A</a>).
<ul>
<li>Clone your fork <code>YOU/REPO</code>– not the original repo!</li>
<li><code>cd</code> to the desired parent directory first. Make a conscious decision about HTTPS vs SSH URL.</li>
</ul></li>
</ul>
<p>We’re doing this:</p>
<p><img src="img/fork-and-clone.png" /></p>
</div>
<div id="usethiscreate_from_githubownerrepo" class="section level3">
<h3><span class="header-section-number">7.6.2</span> <code>usethis::create_from_github("OWNER/REPO")</code></h3>
<p>The <a href="https://usethis.r-lib.org">usethis package</a> has a convenience function,
<a href="https://usethis.r-lib.org/reference/create_from_github.html"><code>create_from_github()</code></a>,
that can do “fork and clone”. In fact, it can go even further and
<a href="workflows-intro.html#upstream-changes">set the <code>upstream</code> remote</a>. However, <code>create_from_github()</code>
requires that you have
<a href="github-pat.html#github-pat">configured a GitHub personal access token</a>. It hides lots of
detail and can feel quite magical.</p>
<p>Due to these difference, we won’t dwell on <code>create_from_github()</code> here. But once
you get tired of doing all of this “by hand”, check it out!</p>
</div>
<div id="engage-with-the-new-repo" class="section level3">
<h3><span class="header-section-number">7.6.3</span> Engage with the new repo</h3>
<p>If you did “fork and clone” via
<a href="usage-intro.html#existing-github-first">Existing project, GitHub first</a>, you are probably
in an RStudio Project for this new repo.</p>
<p>Regardless, get yourself into this project, whatever that means for you, using
your usual method.</p>
<p>Explore the new repo in some suitable way. If it is a package, you could run the
tests or check it. If it is a data analysis project, run a script or render an
Rmd. Convince yourself that you have gotten the code.</p>
</div>
<div id="dont-touch-master" class="section level3">
<h3><span class="header-section-number">7.6.4</span> Don’t mess with <code>master</code></h3>
<p>If you make any commits in your local repository, I <strong>strongly recommend</strong> that
you work in <a href="git-intro.html#git-branches">a new branch</a>, not <code>master</code>.</p>
<p>I <strong>strongly recommend</strong> that you do not make commits to <code>master</code> of a repo you
have forked.</p>
<p>This will make your life much easier if you want to
<a href="workflows-intro.html#upstream-changes">pull upstream work</a> into your copy. The <code>OWNER</code> of
<code>REPO</code> will also be happier to receive your pull request from a non-<code>master</code> branch.</p>
</div>
<div id="the-original-repo-as-a-remote" class="section level3">
<h3><span class="header-section-number">7.6.5</span> The original repo as a remote</h3>
<p>Remember we are here:</p>
<p><img src="img/fork-and-clone.png" /></p>
<p>Here is the current situation in words:</p>
<ul>
<li>You have a fork <code>YOU/REPO</code>, which is a repo on GitHub.</li>
<li>You have a local clone of your fork.</li>
<li>Your fork <code>YOU/REPO</code> is the remote known as <code>origin</code> for your local repo.</li>
<li>You are well positioned to make a pull request to <code>OWNER/REPO</code>.</li>
</ul>
<p>But notice the lack of a direct connection between your local copy of this repo and the original <code>OWNER/REPO</code>. This is a problem.</p>
<p><img src="img/fork-no-upstream-sad.png" /></p>
<p>As time goes on, the original repository <code>OWNER/REPO</code> will continue to evolve.
You probably want the ability to keep your copy up-to-date. In Git lingo, you
will need to get the “upstream changes”.</p>
<p><img src="img/fork-triangle-happy.png" /></p>
<p>See the workflow <a href="workflows-intro.html#upstream-changes">Get upstream changes for a fork</a> for how to
inspect your remotes, add <code>OWNER/REPO</code> as <code>upstream</code> if necessary, and pull
changes, i.e. how to complete the “triangle” in the figure above.</p>
</div>
<div id="no-you-cant-do-this-via-github" class="section level3">
<h3><span class="header-section-number">7.6.6</span> No, you can’t do this via GitHub</h3>
<p>You might hope that GitHub could automatically keep your fork <code>YOU/REPO</code> synced
up with the original <code>OWNER/REPO</code>. Or that you could do this in the browser
interface. Then you could pull those upstream changes into your local repo.</p>
<p>But you can’t.</p>
<p>There are some tantalizing, janky ways to sort of do parts of this. But they
have fatal flaws that make them unsustainable. I believe you really do need to
<a href="workflows-intro.html#upstream-changes">add <code>upstream</code> as a second remote on your repo and pull from there</a>.</p>
</div>
</div>
<div id="upstream-changes" class="section level2">
<h2><span class="header-section-number">7.7</span> Get upstream changes for a fork</h2>
<p>This workflow is relevant if you have done <a href="workflows-intro.html#fork-and-clone">fork and clone</a> and
now you need to pull subsequent changes from the original repo into your copy.</p>
<p>Sometimes you set this up right away, when you fork and clone, even though you
don’t need it yet. Congratulations, you are planning for the future!</p>
<p>It’s also very typical to do this step a few days or months later. Maybe you’re
taking an interest in someone else’s work for the second time and you want to
make another pull request. Or you just want your copy to reflect their recent
work. It is also totally normal to set this up upon first need.</p>
<p>Vocabulary: <code>OWNER/REPO</code> refers to the original GitHub repo, owned by <code>OWNER</code>,
who is not you. <code>YOU/REPO</code> refers to your copy on GitHub, i.e. your fork.</p>
<div id="no-you-cant-do-this-via-github-1" class="section level3">
<h3><span class="header-section-number">7.7.1</span> No, you can’t do this via GitHub</h3>
<p>You might hope that GitHub could automatically keep your fork <code>YOU/REPO</code> synced
up with the original <code>OWNER/REPO</code>. Or that you could do this in the browser
interface. Then you could pull those upstream changes into your local repo.</p>
<p>But you can’t.</p>
<p>There are some tantalizing, janky ways to sort of do parts of this. <strong>But they
have fatal flaws that make them unsustainable.</strong> I believe you really do need to
add <code>OWNER/REPO</code> as a second remote on your repo and pull from there.</p>
</div>
<div id="initial-conditions" class="section level3">
<h3><span class="header-section-number">7.7.2</span> Initial conditions</h3>
<p>Get into the repo of interest, i.e. your local copy. For many of you, this means
launching it as an RStudio Project. You’ll probably also want to open a terminal
(Appendix <a href="shell.html#shell">A</a>) within RStudio for some Git work via <em>Tools &gt; Terminal &gt;
New Terminal</em>.</p>
<p>Make sure you are on the <code>master</code> branch and your “working tree is clean”. <code>git status</code> should show something like:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb105-1"><a href="workflows-intro.html#cb105-1"></a><span class="ex">On</span> branch master</span>
<span id="cb105-2"><a href="workflows-intro.html#cb105-2"></a><span class="ex">Your</span> branch is up to date with <span class="st">&#39;origin/master&#39;</span>.</span>
<span id="cb105-3"><a href="workflows-intro.html#cb105-3"></a></span>
<span id="cb105-4"><a href="workflows-intro.html#cb105-4"></a><span class="ex">nothing</span> to commit, working tree clean</span></code></pre></div>
<p>BTW I recommend that you
<a href="workflows-intro.html#dont-touch-master">never make your own commits to the <code>master</code> branch of a fork</a>.
However, if you have already done so, we are going to address your sorry
situation below.</p>
</div>
<div id="list-your-remotes" class="section level3">
<h3><span class="header-section-number">7.7.3</span> List your remotes</h3>
<p>Let’s inspect <a href="git-intro.html#git-remotes">the current remotes</a> for your local repo. In the
shell (Appendix <a href="shell.html#shell">A</a>):</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb106-1"><a href="workflows-intro.html#cb106-1"></a><span class="fu">git</span> remote -v</span></code></pre></div>
<p>Most of you will see output along these lines (let’s call this BEFORE):</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb107-1"><a href="workflows-intro.html#cb107-1"></a><span class="ex">origin</span>  https://github.com/YOU/REPO.git (fetch)</span>
<span id="cb107-2"><a href="workflows-intro.html#cb107-2"></a><span class="ex">origin</span>  https://github.com/YOU/REPO.git (push)</span></code></pre></div>
<p>There is only one remote, named <code>origin</code>, corresponding to your fork on GitHub.
This figure depicts a BEFORE scenario:</p>
<p><img src="img/fork-no-upstream-sad.png" /></p>
<p>This is sad, because there is no direct connection between <code>OWNER/REPO</code> and your
local copy of the repo.</p>
<p>The state we want to see is like this (let’s call this AFTER):</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb108-1"><a href="workflows-intro.html#cb108-1"></a><span class="ex">origin</span>    https://github.com/YOU/REPO.git (fetch)</span>
<span id="cb108-2"><a href="workflows-intro.html#cb108-2"></a><span class="ex">origin</span>    https://github.com/YOU/REPO.git (push)</span>
<span id="cb108-3"><a href="workflows-intro.html#cb108-3"></a><span class="ex">upstream</span>  https://github.com/OWNER/REPO.git (fetch)</span>
<span id="cb108-4"><a href="workflows-intro.html#cb108-4"></a><span class="ex">upstream</span>  https://github.com/OWNER/REPO.git (push)</span></code></pre></div>
<p>Notice the second remote, named <code>upstream</code>, corresponding to the original repo
on GitHub. This figure depicts AFTER, the scenario we want to achieve:</p>
<p><img src="img/fork-triangle-happy.png" /></p>
<p>Sidebar: If you used <code>usethis::create_from_github("OWNER/REPO")</code> for your
original “fork and clone”, the <code>upstream</code> should already be set up. In that
case, you can skip to the part where we pull from <code>upstream</code>.</p>
</div>
<div id="add-the-upstream-remote" class="section level3">
<h3><span class="header-section-number">7.7.4</span> Add the <code>upstream</code> remote</h3>
<p>Let us add <code>OWNER/REPO</code> as the <code>upstream</code> remote.</p>
<p>On <a href="https://github.com">GitHub</a>, make sure you are signed in and navigate to the
original repo, <code>OWNER/REPO</code>. It is easy to get to from your fork, <code>YOU/REPO</code>,
via “forked from” links near the top.</p>
<p>Use the big green “Clone or download” button to get the URL for <code>OWNER/REPO</code> on
your clipboard. Be intentional about whether you copy the HTTPS or SSH URL.</p>
<div id="command-line-git" class="section level4">
<h4><span class="header-section-number">7.7.4.1</span> Command line Git</h4>
<p>Use a command like this, but make an intentional choice about using an HTTPS vs
SSH URL.</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb109-1"><a href="workflows-intro.html#cb109-1"></a><span class="fu">git</span> remote add upstream https://github.com/OWNER/REPO.git</span></code></pre></div>
<p>The nickname <code>upstream</code> can technically be whatever you want. There is a strong
tradition of using <code>upstream</code> in this context and, even though I have better
ideas, I believe it is best to conform. Every book, blog post, and Stack
Overflow thread that you read will use <code>upstream</code> here. Save your psychic energy
for other things.</p>
</div>
<div id="rstudio" class="section level4">
<h4><span class="header-section-number">7.7.4.2</span> RStudio</h4>
<p>This feels a bit odd, but humor me. Click on “New Branch” in the Git pane.</p>
<p><img src="img/rstudio-new-branch.png" />]</p>
<p>This will reveal a button to “Add Remote”. Click it. Enter <code>upstream</code> as the
remote name and paste the URL for <code>OWNER/REPO</code> that you got from GitHub. Click
“Add”. Decline the opportunity to add a new branch by clicking “Cancel”.</p>
</div>
</div>
<div id="verify-your-upstream-remote" class="section level3">
<h3><span class="header-section-number">7.7.5</span> Verify your <code>upstream</code> remote</h3>
<p>Let’s inspect <a href="git-intro.html#git-remotes">the current remotes</a> for your local repo AGAIN. In
the shell:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb110-1"><a href="workflows-intro.html#cb110-1"></a><span class="fu">git</span> remote -v</span></code></pre></div>
<p>Now you should see something like</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb111-1"><a href="workflows-intro.html#cb111-1"></a><span class="ex">origin</span>    https://github.com/YOU/REPO.git (fetch)</span>
<span id="cb111-2"><a href="workflows-intro.html#cb111-2"></a><span class="ex">origin</span>    https://github.com/YOU/REPO.git (push)</span>
<span id="cb111-3"><a href="workflows-intro.html#cb111-3"></a><span class="ex">upstream</span>  https://github.com/OWNER/REPO.git (fetch)</span>
<span id="cb111-4"><a href="workflows-intro.html#cb111-4"></a><span class="ex">upstream</span>  https://github.com/OWNER/REPO.git (push)</span></code></pre></div>
<p>Notice the second remote, named <code>upstream</code>, corresponding to the original repo
on GitHub. We have gotten to this:</p>
<p><img src="img/fork-triangle-happy.png" /></p>
</div>
<div id="pull-changes-from-upstream" class="section level3">
<h3><span class="header-section-number">7.7.6</span> Pull changes from <code>upstream</code></h3>
<p>Now we can pull the changes that we don’t have from <code>OWNER/REPO</code> into our local
copy.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb112-1"><a href="workflows-intro.html#cb112-1"></a><span class="fu">git</span> pull upstream master --ff-only</span></code></pre></div>
<p>This says: “pull the changes from the remote known as <code>upstream</code> into the
<code>master</code> branch of my local repo”. We are being explicit about the remote and
the branch in this case, because (as our <code>git remote -v</code> commands reveal),
<code>upstream/master</code> is <strong>not</strong> the default tracking branch for local <code>master</code>.</p>
<p>I <strong>highly recommend</strong> using the <code>--ff-only</code> flag in this case, so that you also
say “if I have made my own commits to <code>master</code>, please force me to confront this
problem NOW”. Here’s what it looks like if a fast-forward merge isn’t possible:</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb113-1"><a href="workflows-intro.html#cb113-1"></a>$ <span class="fu">git</span> pull upstream master --ff-only</span>
<span id="cb113-2"><a href="workflows-intro.html#cb113-2"></a><span class="ex">From</span> github.com:OWNER/REPO</span>
<span id="cb113-3"><a href="workflows-intro.html#cb113-3"></a> <span class="ex">*</span> branch              master     -<span class="op">&gt;</span> FETCH_HEAD</span>
<span id="cb113-4"><a href="workflows-intro.html#cb113-4"></a><span class="ex">fatal</span>: Not possible to fast-forward, aborting.</span></code></pre></div>
<p>See <a href="workflows-intro.html#touched-master">Um, what if I did touch <code>master</code>?</a> to get yourself back on
the happy path.</p>
</div>
<div id="push-these-changes-to-originmaster" class="section level3">
<h3><span class="header-section-number">7.7.7</span> Push these changes to <code>origin/master</code></h3>
<p>This is, frankly, totally optional and many people who are facile with Git do
not bother.</p>
<p>If you take my advice to <a href="workflows-intro.html#dont-touch-master">never work in <code>master</code> of a fork</a>,
then the state of the <code>master</code> branch in your fork <code>YOU/REPO</code> does not matter.
You will never make a pull request from <code>master</code>.</p>
<p>If, however, your grasp of all these Git concepts is tenuous at best, it can be
helpful to try to keep things simple and orderly and synced up.</p>
<p>Feel free to push the newly updated state of local <code>master</code> to your fork
<code>YOU/REPO</code> and enjoy the satisfaction of being “caught up” with <code>OWNER/REPO</code>.</p>
<p>In the shell:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb114-1"><a href="workflows-intro.html#cb114-1"></a><span class="fu">git</span> push</span></code></pre></div>
<p>Or use the green “Push” button in RStudio.</p>
</div>
<div id="touched-master" class="section level3">
<h3><span class="header-section-number">7.7.8</span> Um, what if I did touch <code>master</code>?</h3>
<p>I told you not to!</p>
<p>But OK here we are.</p>
<p>Let’s imagine this is the state of the original repo <code>OWNER/REPO</code>:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb115-1"><a href="workflows-intro.html#cb115-1"></a><span class="ex">...</span> -- A -- B -- C -- D -- E -- F</span></code></pre></div>
<p>and this is the state of the <code>master</code> branch in your local copy:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb116-1"><a href="workflows-intro.html#cb116-1"></a><span class="ex">...</span> -- A -- B -- C -- X -- Y -- Z</span></code></pre></div>
<p>The two histories agree, up to commit or state <code>C</code>, then they diverge.</p>
<p>If you want to preserve the work in commits <code>X</code>, <code>Y</code>, and <code>Z</code>, create a new
branch right now, with tip at <code>Z</code>, via <code>git checkout -b my-great-innovations</code>
(pick your own branch name!). Then checkout <code>master</code> via <code>git checkout master</code>.</p>
<p>I now assume you have either preserved the work in <code>X</code>, <code>Y</code>, and <code>Z</code> (with a
branch) or have decided to let it go.</p>
<p>Do a hard reset of the <code>master</code> branch to <code>C</code>.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb117-1"><a href="workflows-intro.html#cb117-1"></a><span class="fu">git</span> reset --hard C</span></code></pre></div>
<p>You will have to figure out how to convey <code>C</code> in Git-speak. Specify it’s
relative to <code>HEAD</code> or provide the SHA. See <em>future link about resets</em> for more
support.</p>
<p>The instructions above for pulling changes from upstream should now work. Your
<code>master</code> branch should reflect the history of <code>OWNER/REPO</code>:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb118-1"><a href="workflows-intro.html#cb118-1"></a><span class="ex">...</span> -- A -- B -- C -- D -- E -- F</span></code></pre></div>
<p>If you chose to create a branch with your work, you will also have that
locally:</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb119-1"><a href="workflows-intro.html#cb119-1"></a><span class="ex">...</span> -- A -- B -- C -- D -- E -- F (master)</span>
<span id="cb119-2"><a href="workflows-intro.html#cb119-2"></a>                   <span class="kw">\</span></span>
<span id="cb119-3"><a href="workflows-intro.html#cb119-3"></a>                    <span class="ex">--</span> X -- Y -- Z (my-great-innovations)</span></code></pre></div>
<p>If you pushed your alternative history (with commits <code>X</code>, <code>Y</code>, and <code>Z</code>) to your
fork <code>YOU/REPO</code> and you like keeping everything synced up, you will also need to
force push <code>master</code> via <code>git push --force</code>, but we really really don’t like
discussing force pushes in Happy Git. We only do so here, because we are talking
about a fork, which is fairly easy to replace if things so sideways.</p>
</div>
</div>
<div id="upstream-changes" class="section level2">
<h2><span class="header-section-number">7.8</span> Get upstream changes for a fork</h2>
<p>This workflow is relevant if you have done <a href="workflows-intro.html#fork-and-clone">fork and clone</a> and
now you need to pull subsequent changes from the original repo into your copy.</p>
<p>Sometimes you set this up right away, when you fork and clone, even though you
don’t need it yet. Congratulations, you are planning for the future!</p>
<p>It’s also very typical to do this step a few days or months later. Maybe you’re
taking an interest in someone else’s work for the second time and you want to
make another pull request. Or you just want your copy to reflect their recent
work. It is also totally normal to set this up upon first need.</p>
<p>Vocabulary: <code>OWNER/REPO</code> refers to the original GitHub repo, owned by <code>OWNER</code>,
who is not you. <code>YOU/REPO</code> refers to your copy on GitHub, i.e. your fork.</p>
<div id="no-you-cant-do-this-via-github-2" class="section level3">
<h3><span class="header-section-number">7.8.1</span> No, you can’t do this via GitHub</h3>
<p>You might hope that GitHub could automatically keep your fork <code>YOU/REPO</code> synced
up with the original <code>OWNER/REPO</code>. Or that you could do this in the browser
interface. Then you could pull those upstream changes into your local repo.</p>
<p>But you can’t.</p>
<p>There are some tantalizing, janky ways to sort of do parts of this. <strong>But they
have fatal flaws that make them unsustainable.</strong> I believe you really do need to
add <code>OWNER/REPO</code> as a second remote on your repo and pull from there.</p>
</div>
<div id="initial-conditions-1" class="section level3">
<h3><span class="header-section-number">7.8.2</span> Initial conditions</h3>
<p>Get into the repo of interest, i.e. your local copy. For many of you, this means
launching it as an RStudio Project. You’ll probably also want to open a terminal
(Appendix <a href="shell.html#shell">A</a>) within RStudio for some Git work via <em>Tools &gt; Terminal &gt;
New Terminal</em>.</p>
<p>Make sure you are on the <code>master</code> branch and your “working tree is clean”. <code>git status</code> should show something like:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb120-1"><a href="workflows-intro.html#cb120-1"></a><span class="ex">On</span> branch master</span>
<span id="cb120-2"><a href="workflows-intro.html#cb120-2"></a><span class="ex">Your</span> branch is up to date with <span class="st">&#39;origin/master&#39;</span>.</span>
<span id="cb120-3"><a href="workflows-intro.html#cb120-3"></a></span>
<span id="cb120-4"><a href="workflows-intro.html#cb120-4"></a><span class="ex">nothing</span> to commit, working tree clean</span></code></pre></div>
<p>BTW I recommend that you
<a href="workflows-intro.html#dont-touch-master">never make your own commits to the <code>master</code> branch of a fork</a>.
However, if you have already done so, we are going to address your sorry
situation below.</p>
</div>
<div id="list-your-remotes-1" class="section level3">
<h3><span class="header-section-number">7.8.3</span> List your remotes</h3>
<p>Let’s inspect <a href="git-intro.html#git-remotes">the current remotes</a> for your local repo. In the
shell (Appendix <a href="shell.html#shell">A</a>):</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb121-1"><a href="workflows-intro.html#cb121-1"></a><span class="fu">git</span> remote -v</span></code></pre></div>
<p>Most of you will see output along these lines (let’s call this BEFORE):</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb122-1"><a href="workflows-intro.html#cb122-1"></a><span class="ex">origin</span>  https://github.com/YOU/REPO.git (fetch)</span>
<span id="cb122-2"><a href="workflows-intro.html#cb122-2"></a><span class="ex">origin</span>  https://github.com/YOU/REPO.git (push)</span></code></pre></div>
<p>There is only one remote, named <code>origin</code>, corresponding to your fork on GitHub.
This figure depicts a BEFORE scenario:</p>
<p><img src="img/fork-no-upstream-sad.png" /></p>
</div>
</div>
<div id="workflows-browsability" class="section level2">
<h2><span class="header-section-number">7.9</span> Make a GitHub repo browsable</h2>
<p><strong>The unreasonable effectiveness of GitHub browsability</strong>. One of my favorite
aspects of GitHub is the ability to inspect a repository’s files in a browser.
Certain practices make browsing more rewarding and can postpone the day when you
must create a proper website for a project. Perhaps indefinitely.</p>
<div id="be-savvy-about-your-files" class="section level3">
<h3><span class="header-section-number">7.9.1</span> Be savvy about your files</h3>
<p>Keep files in the plainest, web-friendliest form that is compatible with your
main goals. Plain text is the very best. GitHub offers special handling for
certain types of files:</p>
<ul>
<li>Markdown files, which may be destined for conversion into, e.g., HTML</li>
<li>Markdown files named <code>README.md</code></li>
<li>HTML files, often the result of compiling Markdown files</li>
<li>Source code, such as <code>.R</code> files</li>
<li>Delimited files, such as CSVs and TSVs</li>
<li>PNG files</li>
</ul>
</div>
<div id="get-over-your-hang-ups-re-committing-derived-products" class="section level3">
<h3><span class="header-section-number">7.9.2</span> Get over your hang ups re: committing derived products</h3>
<p>Let’s acknowledge the discomfort some people feel about putting derived products
under version control. Specifically, if you’ve got an R Markdown document
<code>foo.Rmd</code>, it can be <code>knit()</code> to produce the intermediate product <code>foo.md</code>,
which can be converted to the ultimate output <code>foo.html</code>. Which of those files
are you “allowed” to put under version control? Source-is-real hardliners will
say only <code>foo.Rmd</code> but pragmatists know this can be a serious bummer in real
life. Just because I <em>can</em> rebuild everything from scratch, it doesn’t mean I
<em>want</em> to.</p>
<p>The taboo of keeping derived products under version control originates from
compilation of binary executables from source. Software built on a Mac would not
work on Windows and so it made sense to keep these binaries out of the holy
source code repository. Also, you could assume the people with access to the
repository have the full development stack and relish opportunities to use it.
None of these arguments really apply to the <code>foo.Rmd --&gt; foo.md --&gt; foo.html</code>
workflow. We don’t have to blindly follow traditions from the compilation
domain!</p>
<p>In fact, looking at the diffs for <code>foo.md</code> or <code>foo-figure-01.png</code> can be
extremely informative. This is also true in larger data analytic projects after
a <code>make clean; make all</code> operation. By looking at the diffs in the downstream
products, you often catch unexpected changes. This can tip you off to changes in
the underlying data and/or the behavior of packages you depend on.</p>
<p>This chapter explores cool things GitHub can do with various file types, if they
happen to end up in your repo. I won’t ask you how they got there.</p>
</div>
<div id="markdown" class="section level3">
<h3><span class="header-section-number">7.9.3</span> Markdown</h3>
<p>You will quickly discover that GitHub renders Markdown files very nicely. By
clicking on <code>foo.md</code>, you’ll get a decent preview of <code>foo.html</code>. Yay! You should
read
<a href="https://guides.github.com/features/mastering-markdown/">GitHub’s own guide</a>
on how to leverage automatic Markdown rendering.</p>
<p>Exploit this aggressively. Make Markdown your default format for narrative text
files and use them liberally to embed notes to yourself and others in a
repository hosted on Github. It’s an easy way to get pseudo-webpages inside a
project “for free”. You may never even compile these files to HTML explicitly;
in many cases, the HTML preview offered by GitHub is all you ever need.</p>
</div>
<div id="r-markdown" class="section level3">
<h3><span class="header-section-number">7.9.4</span> R Markdown</h3>
<p>What does this mean for R Markdown files? <strong>Keep intermediate Markdown. Or only
render to Markdown.</strong> Commit both <code>foo.Rmd</code> and <code>foo.md</code>, even if you choose to
<code>.gitignore</code> the final product, e.g. <code>foo.html</code> or <code>foo.pdf</code> or <code>foo.docx</code>. From
<a href="https://github.com/github/markup/pull/343">September 2014</a>,
GitHub renders R Markdown files nicely, like Markdown, and with proper syntax
highlighting, which is great. But, of course, the code blocks just sit there
un-executed, so my advice about keeping Markdown still holds.</p>
<p>If your target output format is not Markdown, you want
<a href="https://gist.github.com/jennybc/402761e30b9be8023af9">YAML frontmatter</a>
that looks something like this for <code>.Rmd</code>:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb123-1"><a href="workflows-intro.html#cb123-1"></a><span class="pp">---</span></span>
<span id="cb123-2"><a href="workflows-intro.html#cb123-2"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;Something fascinating&quot;</span></span>
<span id="cb123-3"><a href="workflows-intro.html#cb123-3"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;Jenny Bryan&quot;</span></span>
<span id="cb123-4"><a href="workflows-intro.html#cb123-4"></a><span class="fu">date</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;`r format(Sys.Date())`&quot;</span></span>
<span id="cb123-5"><a href="workflows-intro.html#cb123-5"></a><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb123-6"><a href="workflows-intro.html#cb123-6"></a><span class="at">  </span><span class="fu">html_document</span><span class="kw">:</span></span>
<span id="cb123-7"><a href="workflows-intro.html#cb123-7"></a><span class="at">    </span><span class="fu">keep_md</span><span class="kw">:</span><span class="at"> </span><span class="ch">TRUE</span></span>
<span id="cb123-8"><a href="workflows-intro.html#cb123-8"></a><span class="pp">---</span></span></code></pre></div>
<p>or like this for <code>.R</code>:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb124-1"><a href="workflows-intro.html#cb124-1"></a><span class="co">#&#39; ---</span></span>
<span id="cb124-2"><a href="workflows-intro.html#cb124-2"></a><span class="co">#&#39; title: &quot;Something fascinating&quot;</span></span>
<span id="cb124-3"><a href="workflows-intro.html#cb124-3"></a><span class="co">#&#39; author: &quot;Jenny Bryan&quot;</span></span>
<span id="cb124-4"><a href="workflows-intro.html#cb124-4"></a><span class="co">#&#39; date: &quot;`r format(Sys.Date())`&quot;</span></span>
<span id="cb124-5"><a href="workflows-intro.html#cb124-5"></a><span class="co">#&#39; output:</span></span>
<span id="cb124-6"><a href="workflows-intro.html#cb124-6"></a><span class="co">#&#39;   html_document:</span></span>
<span id="cb124-7"><a href="workflows-intro.html#cb124-7"></a><span class="co">#&#39;     keep_md: TRUE</span></span>
<span id="cb124-8"><a href="workflows-intro.html#cb124-8"></a><span class="co">#&#39; ---</span></span></code></pre></div>
<p>The <code>keep_md: TRUE</code> part says to keep the intermediate Markdown. In RStudio,
when editing <code>.Rmd</code>, click on the gear next to “Knit HTML” for YAML authoring
help.</p>
<p>Since 2016, <code>rmarkdown</code> offers a
<a href="http://rmarkdown.rstudio.com/github_document_format.html">custom output format for GitHub-flavored markdown, <code>github_document</code></a>.
Read about <a href="usage-intro.html#rmd-test-drive">R Markdown workflows</a> for explicit examples of
how to use this. If Markdown is your target output format, your
<a href="https://gist.github.com/jennybc/402761e30b9be8023af9">YAML can be even simpler</a>
and look like this for <code>.Rmd</code>:</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb125-1"><a href="workflows-intro.html#cb125-1"></a><span class="pp">---</span></span>
<span id="cb125-2"><a href="workflows-intro.html#cb125-2"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> github_document</span></span>
<span id="cb125-3"><a href="workflows-intro.html#cb125-3"></a><span class="pp">---</span></span></code></pre></div>
<p>or like this for <code>.R</code>:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb126-1"><a href="workflows-intro.html#cb126-1"></a><span class="co">#&#39; ---</span></span>
<span id="cb126-2"><a href="workflows-intro.html#cb126-2"></a><span class="co">#&#39; output: github_document</span></span>
<span id="cb126-3"><a href="workflows-intro.html#cb126-3"></a><span class="co">#&#39; ---</span></span></code></pre></div>
<p>For a quick, stand-alone document that doesn’t fit neatly into a repository
or project (yet), make it a <a href="https://gist.github.com">Gist</a>. Example: Hadley
Wickham’s <a href="https://gist.github.com/hadley/820f09ded347c62c2864">advice on what you need to do to become a data scientist</a>.
Gists can contain multiple files, so you can still provide the R script or R
Markdown source <strong>and</strong> the resulting Markdown, as I’ve done in this write-up of
<a href="https://gist.github.com/jennybc/04b71bfaaf0f88d9d2eb">Twitter-sourced tips for cross-tabulation</a>. I’ve collected <a href="https://gist.github.com/jennybc/402761e30b9be8023af9">YAML examples</a>
for all the above scenarios in a gist.</p>
</div>
<div id="readme.md" class="section level3">
<h3><span class="header-section-number">7.9.5</span> <code>README.md</code></h3>
<p>You probably already know that GitHub renders <code>README.md</code> at the top-level of
your repo as the <em>de facto</em> landing page. This is analogous to what happens when
you point a web browser at a directory instead of a specific web page: if there
is a file named <code>index.html</code>, that’s what the server will show you by default.
On GitHub, files named <code>README.md</code> play exactly this role for directories in
your repo.</p>
<p>Implication: for any logical group of files or mini project-within-your-project,
create a sub-directory in your repository. And then create a <code>README.md</code> file to
annotate these files, collect relevant links, etc. Now when you navigate to the
sub-directory on GitHub the nicely rendered <code>README.md</code> will simply appear. The
GitHub repo that backs the
<a href="https://cran.r-project.org/package=gapminder">gapminder</a> data package has a
<a href="https://github.com/jennybc/gapminder/tree/master/data-raw#readme">README in the <code>data-raw</code> subdirectory</a>
that explains exactly how the package data is created. In fact, it is generated
programmatically from
<a href="https://github.com/jennybc/gapminder/blob/master/data-raw/README.Rmd"><code>README.Rmd</code></a>.</p>
<p>Some repositories consist solely of <code>README.md</code>. Examples: Jeff Leek’s write-ups
on <a href="https://github.com/jtleek/datasharing">How to share data with a statistician</a>
or <a href="https://github.com/jtleek/rpackages">Developing R packages</a>. I am becoming a
bigger fan of <code>README</code>-only repos than gists because repo issues trigger notifications,
whereas comments on gists do not.</p>
<p>If you’ve got a directory full of web-friendly figures, such as PNGs, you can use
<a href="https://gist.github.com/jennybc/0239f65633e09df7e5f4">code like this</a> to generate
a <code>README.md</code> for a quick DIY gallery, as Karl Broman has done with
<a href="https://github.com/kbroman/FruitSnacks/blob/master/PhotoGallery.md">his FruitSnacks</a>.
I did same for all the <a href="https://github.com/jennybc/orly-full-res#readme">fantastic O RLY book covers</a> made by The Practical Dev.</p>
<p>I have also used this device to share Keynote slides on GitHub (<em>mea culpa!</em>).
Export them as PNGs images and throw ’em into a README gallery: slides on
<a href="https://github.com/Reproducible-Science-Curriculum/rr-organization1/tree/27883c8fc4cdd4dcc6a8232f1fe5c726e96708a0/slides/organization-slides">file organization</a>
and some on
<a href="https://github.com/Reproducible-Science-Curriculum/rr-organization1/tree/27883c8fc4cdd4dcc6a8232f1fe5c726e96708a0/slides/naming-slides">file naming</a>.</p>
</div>
<div id="finding-stuff" class="section level3">
<h3><span class="header-section-number">7.9.6</span> Finding stuff</h3>
<p>OK these are pure GitHub tips but if you’ve made it this far, you’re obviously a keener.</p>
<ul>
<li>Press <code>t</code> to activate <a href="https://github.com/blog/793-introducing-the-file-finder">the file finder</a> whenever
you’re in a repo’s file and directory view. AWESOME, especially when there
are files tucked into lots of subdirectories.</li>
<li>Press <code>y</code> to
<a href="https://help.github.com/articles/getting-permanent-links-to-files/">get a permanent link</a>
when you’re viewing a specific file. Watch what changes in the URL. This
is important if you are about to <em>link</em> to a file or
<a href="http://stackoverflow.com/questions/23821235/how-to-link-to-specific-line-number-on-github">to specific lines</a>.
Otherwise your links will break easily in the future. If the file is deleted
or renamed or if lines get inserted or deleted, your links will no longer
point to what you intended. Use <code>y</code> to get links that include a specific
commit in the URL.</li>
</ul>
</div>
<div id="html" class="section level3">
<h3><span class="header-section-number">7.9.7</span> HTML</h3>
<p>If you have an HTML file in a GitHub repository, simply visiting the file shows
the raw HTML. Here’s a nice ugly example:</p>
<ul>
<li><a href="https://github.com/STAT545-UBC/STAT545-UBC.github.io/blob/master/bit003_api-key-env-var.html" class="uri">https://github.com/STAT545-UBC/STAT545-UBC.github.io/blob/master/bit003_api-key-env-var.html</a></li>
</ul>
<p>No one wants to look at that. <del>You can provide this URL to
<a href="http://rawgit.com">rawgit.com</a> to serve this HTML more properly and get a
decent preview.</del></p>
<p><del>You can form two different types of URLs with <a href="http://rawgit.com">rawgit.com</a>:</del></p>
<ul>
<li><del>For sharing low-traffic, temporary examples or demos with small numbers of people, do this:</del>
<ul>
<li><del><a href="https://rawgit.com/STAT545-UBC/STAT545-UBC.github.io/master/bit003_api-key-env-var.html" class="uri">https://rawgit.com/STAT545-UBC/STAT545-UBC.github.io/master/bit003_api-key-env-var.html</a></del></li>
<li><del>Basically: replace <code>https://github.com/</code> with <code>https://rawgit.com/</code></del></li>
</ul></li>
<li><del>For use on production websites with any amount of traffic, do this:</del>
<ul>
<li><del><a href="https://cdn.rawgit.com/STAT545-UBC/STAT545-UBC.github.io/master/bit003_api-key-env-var.html" class="uri">https://cdn.rawgit.com/STAT545-UBC/STAT545-UBC.github.io/master/bit003_api-key-env-var.html</a></del></li>
<li><del>Basically: replace <code>https://github.com/</code> with <code>https://cdn.rawgit.com/</code></del></li>
</ul></li>
</ul>
<p><em>2018-10-09 update: RawGit <a href="https://rawgit.com/">announced</a> that it is in a sunset phase and will soon shut down. They recommended: <a href="https://www.jsdelivr.com/rawgit">jsDelivr</a>, <a href="https://pages.github.com/">GitHub Pages</a>, <a href="https://codesandbox.io/">CodeSandbox</a>, and <a href="https://unpkg.com/#/">unpkg</a> as alternatives.</em></p>
<p>This sort of enhanced link might be one of the useful things to put in a
<code>README.md</code> or other Markdown file in the repo.</p>
<p>You may also want to check out this
<a href="https://chrome.google.com/webstore/detail/github-html-preview/cphnnfjainnhgejcpgboeeakfkgbkfek?hl=en">Chrome extension</a>
or
<a href="https://htmlpreview.github.io">GitHub &amp; BitBucket HTML Preview</a>, though recently
I’ve more success with <a href="http://rawgit.com">rawgit.com</a>. (Neither work with private
GitHub repos, which is all the more reason to keep intermediate markdown files
for HTML, as described above.)</p>
<p>Sometimes including HTML files will cause GitHub to think that your R repository
is HTML. Besides being slightly annoying, this can make it difficult for people
to find your work if they are searching specifically for R repos. You can
exclude these files or directories from GitHub’s language statistics by
<a href="https://github.com/github/linguist#using-gitattributes">adding a .gitattributes file</a>
that marks them as ‘documentation’ rather than code.
<a href="https://github.com/jennybc/googlesheets/blob/master/.gitattributes">See an example here</a>.</p>
</div>
<div id="source-code" class="section level3">
<h3><span class="header-section-number">7.9.8</span> Source code</h3>
<p>You will notice that GitHub does automatic syntax highlighting for source code.
For example, notice the coloring of this
<a href="https://github.com/jennybc/ggplot2-tutorial/blob/master/gapminder-ggplot2-stripplot.r">R script</a>.
The file’s extension is the primary determinant for if/how syntax highlighting
will be applied. You can see information on recognized languages, the default
extensions and more at
<a href="https://github.com/github/linguist/blob/master/lib/linguist/languages.yml">github/linguist</a>.
You should be doing it anyway, but let this be another reason to follow
convention in your use of file extensions.</p>
<p>Note you can click on “Raw” in this context as well, to get just the plain text
and nothing but the plain text.</p>
</div>
<div id="delimited-files" class="section level3">
<h3><span class="header-section-number">7.9.9</span> Delimited files</h3>
<p>GitHub will nicely render tabular data in the form of <code>.csv</code> (comma-separated) and <code>.tsv</code> (tab-separated) files. You can read more in the
<a href="https://github.com/blog/1601-see-your-csvs">blog post</a> announcing this feature
in August 2013 or in
<a href="https://help.github.com/articles/rendering-csv-and-tsv-data">this GitHub help page</a>.</p>
<p>Advice: take advantage of this! If something in your repo can be naturally
stored as delimited data, by all means, do so. Make the comma or tab your
default delimiter and use the file suffixes GitHub is expecting. I have noticed
that GitHub is more easily confused than R about things like quoting, so always
inspect the GitHub-rendered <code>.csv</code> or <code>.tsv</code> file in the browser. You may need
to do light cleaning to get the automagic rendering to work properly. Think of
it as yet another way to learn about imperfections in your data.</p>
<p>Here’s an example of a tab delimited file on GitHub: <a href="https://github.com/jennybc/lotr/blob/master/lotr_clean.tsv">lotr_clean.tsv</a>,
originally found <del>here</del> (nope, IBM shut down manyeyes July 2015).</p>
<p>Note you can click on “Raw” in this context as well, to get just the plain text
and nothing but the plain text.</p>
</div>
<div id="pngs" class="section level3">
<h3><span class="header-section-number">7.9.10</span> PNGs</h3>
<p>PNG is the “no brainer” format in which to store figures for the web. But many
of us like a vector-based format, such as PDF, for general purpose figures.
Bottom line: PNGs will drive you less crazy than PDFs on GitHub. To reduce the
aggravation around viewing figures in the browser, make sure to have a PNG
version in the repo.</p>
<p>Examples:</p>
<ul>
<li><a href="https://github.com/jennybc/STAT545A/blob/master/hw06_scaffolds/01_justR/stripplot_wordsByRace_The_Fellowship_Of_The_Ring.png">This PNG figure</a>
just shows up in the browser</li>
<li>A different figure <a href="https://github.com/jennybc/ggplot2-tutorial/blob/master/gapminder-country-colors.pdf">stored as PDF</a>
<del>produces the dreaded, annoying “View Raw” speed bump. You’ll have to click
through and, on my OS + browser, wait for the PDF to appear in an external PDF
viewer.</del> <em>2015-06-19 update: since I first wrote this GitHub has
<a href="https://github.com/blog/1974-pdf-viewing">elevated its treament of PDFs</a> so
YAY. It’s slow but it works.</em></li>
</ul>
<p>Hopefully we are moving towards a world where you can have “web friendly” and
“vector” at the same time, without undue headaches. As of
<a href="https://github.com/blog/1902-svg-viewing-diffing">October 2014</a>, GitHub
provides enhanced viewing and diffing of SVGs. So don’t read this advice as
discouraging SVGs. Make them! But consider keeping a PNG around as emergency
back up for now.</p>
</div>
<div id="other-document-formats" class="section level3">
<h3><span class="header-section-number">7.9.11</span> Other document formats</h3>
<p>You may also have a document you want others to be able to browse and interact
with, but it is not in the markdown format. Fortunately, the open-source Pandoc
program, written by John MacFarlane, allows you to convert a range of formats
into markdown, including the widely used <code>.docx</code> format.</p>
<p>When you click the Knit button in RStudio it is actually Pandoc which performs
the final conversion to HTML or Microsoft Word (<code>.docx</code>) formats. If you are
willing to use the command-line, you can perform the opposite conversion (eg
<code>.docx</code> to <code>.md</code>), commonly retaining features such as headings, tables,
equations and even figures.</p>
<p>As some boilerplate, running in Windows PowerShell <code>pandoc --extract-media .\media -f docx .\example.docx -t markdown_github -o example_image.md</code> converts
a word document called <code>example.docx</code> to markdown, and extracts the images into
a directory which corresponds to a filepath in the newly created <code>example.md</code>
document. A full list of supported formats and example code for conversions are
available at <a href="https://pandoc.org/" class="uri">https://pandoc.org/</a>.</p>
<p>You can also perform simple conversions to GitHub-flavored markdown from
different markdown flavours (Pandoc supports <code>markdown_mmd</code>,
<code>markdown_php_extra</code> and <code>markdown_strict</code>) from within RStudio. To do so you
need to rename the file by changing the extension (eg from <code>foo.md</code> to
<code>foo.Rmd</code>), then open the renamed file in RStudio and add the following text to
the top of the document.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb127-1"><a href="workflows-intro.html#cb127-1"></a><span class="pp">---</span></span>
<span id="cb127-2"><a href="workflows-intro.html#cb127-2"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> github_document</span></span>
<span id="cb127-3"><a href="workflows-intro.html#cb127-3"></a><span class="pp">---</span></span></code></pre></div>
<p>You can then click on “Knit” then “Knit to github document” to perform the
conversion. See <a href="##%20Output%20format">Output format</a> for more details of
controlling output formats with the YAML frontmatter.</p>
</div>
<div id="linking-to-a-zip-archive-of-your-repo" class="section level3">
<h3><span class="header-section-number">7.9.12</span> Linking to a ZIP archive of your repo</h3>
<p>The browsability of GitHub makes your work accessible to people who care about
your content but who don’t (yet) use Git themselves. What if such a person wants
all the files? Yes, there is a clickable “Download ZIP” button offered by
GitHub. But what if you want a link to include in an email or other document? If
you add <code>/archive/master.zip</code> <em>to the end</em> of the URL for your repo, you
construct a link that will download a ZIP archive of your repository. Click here
to try this out on a very small repo:</p>
<p><a href="https://github.com/jennybc/lotr/archive/master.zip" class="uri">https://github.com/jennybc/lotr/archive/master.zip</a></p>
<p>Go look in your downloads folder!</p>
</div>
</div>
<div id="links-and-embedded-figures" class="section level2">
<h2><span class="header-section-number">7.10</span> Links and embedded figures</h2>
<ul>
<li><p>To link to another page in your repo, just use a relative link:
<code>[admin](courseAdmin/)</code> will link to the <code>courseAdmin/</code> directory inside the
current directory. <code>[admin](/courseAdmin/)</code> will link to the top-level
<code>courseAdmin/</code> directory from any where in the repo</p></li>
<li><p>The same idea also works for images. <code>![](image.png)</code> will include <code>image.png</code>
located in the current directory</p></li>
</ul>

</div>
</div>



</div>
            </section>

          </div>
        </div>
      </div>
<a href="remote-scenarios-intro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="shell.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jennybc/happy-git-with-r/edit/master/workflows-intro.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
